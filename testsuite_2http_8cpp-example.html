<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Base Framework: testsuite/http.cpp</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Base Framework
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">testsuite/http.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><span class="comment">/***************************************************************************</span></div>
<div class="line"><span class="comment">    The Base Framework</span></div>
<div class="line"><span class="comment">    A framework for developing platform independent applications</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">    See COPYRIGHT.txt for details.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">    This framework is distributed in the hope that it will be useful,</span></div>
<div class="line"><span class="comment">    but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><span class="comment">    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">    For the licensing terms refer to the file &#39;LICENSE&#39;.</span></div>
<div class="line"><span class="comment"> ***************************************************************************/</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;base/Application.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;base/Timer.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;base/Trace.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;base/Primitives.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;base/UnsignedInteger.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;base/concurrency/Thread.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;base/io/File.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;base/net/StreamSocket.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;base/net/InetEndPoint.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;base/net/InetInterface.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;base/net/InetService.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;base/net/ServerSocket.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;base/net/Url.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;base/string/FormatInputStream.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;base/string/FormatOutputStream.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;base/string/StringOutputStream.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">using namespace </span>com::azure::dev::base;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span>commands {</div>
<div class="line">  </div>
<div class="line">  <span class="comment">// Methods</span></div>
<div class="line">  <span class="keyword">const</span> <a name="_a0"></a><a class="code" href="class_literal.html">Literal</a> METHOD_OPTIONS = MESSAGE(<span class="stringliteral">&quot;OPTIONS&quot;</span>);</div>
<div class="line">  <span class="keyword">const</span> <a class="code" href="class_literal.html">Literal</a> METHOD_GET = MESSAGE(<span class="stringliteral">&quot;GET&quot;</span>);</div>
<div class="line">  <span class="keyword">const</span> <a class="code" href="class_literal.html">Literal</a> METHOD_HEAD = MESSAGE(<span class="stringliteral">&quot;HEAD&quot;</span>);</div>
<div class="line">  <span class="keyword">const</span> <a class="code" href="class_literal.html">Literal</a> METHOD_POST = MESSAGE(<span class="stringliteral">&quot;POST&quot;</span>);</div>
<div class="line">  <span class="keyword">const</span> <a class="code" href="class_literal.html">Literal</a> METHOD_PUT = MESSAGE(<span class="stringliteral">&quot;PUT&quot;</span>);</div>
<div class="line">  <span class="keyword">const</span> <a class="code" href="class_literal.html">Literal</a> METHOD_DELETE = MESSAGE(<span class="stringliteral">&quot;DELETE&quot;</span>);</div>
<div class="line">  <span class="keyword">const</span> <a class="code" href="class_literal.html">Literal</a> METHOD_TRACE = MESSAGE(<span class="stringliteral">&quot;TRACE&quot;</span>);</div>
<div class="line">  <span class="keyword">const</span> <a class="code" href="class_literal.html">Literal</a> METHOD_CONNECT = MESSAGE(<span class="stringliteral">&quot;CONNECT&quot;</span>);</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Access control commands</span></div>
<div class="line">  <span class="keyword">const</span> <a class="code" href="class_literal.html">Literal</a> CMD_ACCOUNT = MESSAGE(<span class="stringliteral">&quot;ACCT&quot;</span>); <span class="comment">// set account</span></div>
<div class="line">  <span class="keyword">const</span> <a class="code" href="class_literal.html">Literal</a> CMD_CDUP = MESSAGE(<span class="stringliteral">&quot;CDUP&quot;</span>); <span class="comment">// change to parent directory</span></div>
<div class="line">  <span class="keyword">const</span> <a class="code" href="class_literal.html">Literal</a> CMD_CWD = MESSAGE(<span class="stringliteral">&quot;CWD&quot;</span>); <span class="comment">// change working directory</span></div>
<div class="line">  <span class="keyword">const</span> <a class="code" href="class_literal.html">Literal</a> CMD_LOGOUT = MESSAGE(<span class="stringliteral">&quot;QUIT&quot;</span>); <span class="comment">// logout</span></div>
<div class="line">  <span class="keyword">const</span> <a class="code" href="class_literal.html">Literal</a> CMD_PASSWORD = MESSAGE(<span class="stringliteral">&quot;PASS&quot;</span>); <span class="comment">// set password</span></div>
<div class="line">  <span class="keyword">const</span> <a class="code" href="class_literal.html">Literal</a> CMD_REINITIALIZE = MESSAGE(<span class="stringliteral">&quot;REIN&quot;</span>); <span class="comment">// reinitialize</span></div>
<div class="line">  <span class="keyword">const</span> <a class="code" href="class_literal.html">Literal</a> CMD_USER = MESSAGE(<span class="stringliteral">&quot;USER&quot;</span>); <span class="comment">// set user</span></div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Transfer parameter commands</span></div>
<div class="line">  <span class="keyword">const</span> <a class="code" href="class_literal.html">Literal</a> CMD_DATA_PORT = MESSAGE(<span class="stringliteral">&quot;PORT&quot;</span>); <span class="comment">// set host data connection port</span></div>
<div class="line">  <span class="keyword">const</span> <a class="code" href="class_literal.html">Literal</a> CMD_PASSIVE = MESSAGE(<span class="stringliteral">&quot;PASV&quot;</span>); <span class="comment">// request passive mode</span></div>
<div class="line">  <span class="keyword">const</span> <a class="code" href="class_literal.html">Literal</a> CMD_REPRESENTATION = MESSAGE(<span class="stringliteral">&quot;TYPE&quot;</span>); <span class="comment">// request data representation (AEIL)</span></div>
<div class="line">  <span class="keyword">const</span> <a class="code" href="class_literal.html">Literal</a> CMD_FILE_STRUCTURE = MESSAGE(<span class="stringliteral">&quot;STRU&quot;</span>); <span class="comment">// request file structure (file/record/page)</span></div>
<div class="line">  <span class="keyword">const</span> <a class="code" href="class_literal.html">Literal</a> CMD_TRANSFER_MODE = MESSAGE(<span class="stringliteral">&quot;MODE&quot;</span>); <span class="comment">// (stream/block/compressed)</span></div>
<div class="line">}; <span class="comment">// commands namespace</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">using namespace </span>commands;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span><a name="_a1"></a><a class="code" href="class_h_t_t_p_exception.html">HTTPException</a> : <span class="keyword">public</span> <a name="_a2"></a><a class="code" href="class_i_o_exception.html">IOException</a> {</div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line"> </div>
<div class="line">  <span class="keywordtype">bool</span> permanent = <span class="keyword">true</span>;</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">inline</span> <a class="code" href="class_h_t_t_p_exception.html">HTTPException</a>()</div>
<div class="line">  {</div>
<div class="line">  }</div>
<div class="line">  </div>
<div class="line">  <span class="keyword">inline</span> <a class="code" href="class_h_t_t_p_exception.html">HTTPException</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* message)</div>
<div class="line">    : <a class="code" href="class_i_o_exception.html">IOException</a>(message)</div>
<div class="line">  {</div>
<div class="line">  }</div>
<div class="line">  </div>
<div class="line">  <span class="keyword">inline</span> <span class="keywordtype">bool</span> isPermanent() const noexcept</div>
<div class="line">  {</div>
<div class="line">    <span class="keywordflow">return</span> permanent;</div>
<div class="line">  }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>HTTPTraits {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> SP = <span class="charliteral">&#39; &#39;</span>;</div>
<div class="line">  </div>
<div class="line">  <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> isLWS(<span class="keywordtype">char</span> value) {</div>
<div class="line">    <span class="keywordflow">return</span> (value == <span class="charliteral">&#39; &#39;</span>) || (value == <span class="charliteral">&#39;\t&#39;</span>);</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> isText(<span class="keywordtype">char</span> value) {</div>
<div class="line">    <span class="comment">// TAG: RFC states that non-ASCII chars should be accepted! - I ignore this for now</span></div>
<div class="line">    <span class="keywordflow">return</span> <a name="a3"></a><a class="code" href="class_a_s_c_i_i_traits.html#a994cbf87b1b86182be7e4675f342dc9f">ASCIITraits::isASCII</a>(value) &amp;&amp;</div>
<div class="line">      ((value == <span class="charliteral">&#39; &#39;</span>) || (value == <span class="charliteral">&#39;\t&#39;</span>) || !<a name="a4"></a><a class="code" href="class_a_s_c_i_i_traits.html#afeb4bada6cdca54bfa2378cbeac630e4">ASCIITraits::isControl</a>(value));</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> isSeparator(<span class="keywordtype">char</span> value) {</div>
<div class="line">    <span class="keywordflow">switch</span> (value) {</div>
<div class="line">    <span class="keywordflow">case</span> <span class="charliteral">&#39;\t&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39; &#39;</span>:</div>
<div class="line">    <span class="keywordflow">case</span> <span class="charliteral">&#39;(&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;)&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;&lt;&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;&gt;&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;@&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;,&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;;&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;:&#39;</span>:</div>
<div class="line">    <span class="keywordflow">case</span> <span class="charliteral">&#39;\\&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;&quot;&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;/&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;[&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;]&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;?&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;=&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;{&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;}&#39;</span>:</div>
<div class="line">      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> isToken(<span class="keywordtype">char</span> value) {</div>
<div class="line">    <span class="keywordflow">return</span> <a class="code" href="class_a_s_c_i_i_traits.html#a994cbf87b1b86182be7e4675f342dc9f">ASCIITraits::isASCII</a>(value) &amp;&amp;</div>
<div class="line">      (!<a class="code" href="class_a_s_c_i_i_traits.html#afeb4bada6cdca54bfa2378cbeac630e4">ASCIITraits::isControl</a>(value) &amp;&amp; !isSeparator(value));</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* SHORT_WEEKDAY[7];</div>
<div class="line">  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* LONG_WEEKDAY[7];</div>
<div class="line">  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* SHORT_MONTH[12];</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span>* HTTPTraits::SHORT_WEEKDAY[7] = {</div>
<div class="line">  <span class="stringliteral">&quot;Mon&quot;</span>,</div>
<div class="line">  <span class="stringliteral">&quot;Tue&quot;</span>,</div>
<div class="line">  <span class="stringliteral">&quot;Wed&quot;</span>,</div>
<div class="line">  <span class="stringliteral">&quot;Thu&quot;</span>,</div>
<div class="line">  <span class="stringliteral">&quot;Fri&quot;</span>,</div>
<div class="line">  <span class="stringliteral">&quot;Sat&quot;</span>,</div>
<div class="line">  <span class="stringliteral">&quot;Sun&quot;</span></div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span>* HTTPTraits::LONG_WEEKDAY[7] = {</div>
<div class="line">  <span class="stringliteral">&quot;Monday&quot;</span>,</div>
<div class="line">  <span class="stringliteral">&quot;Tuesday&quot;</span>,</div>
<div class="line">  <span class="stringliteral">&quot;Wednesday&quot;</span>,</div>
<div class="line">  <span class="stringliteral">&quot;Thursday&quot;</span>,</div>
<div class="line">  <span class="stringliteral">&quot;Friday&quot;</span>,</div>
<div class="line">  <span class="stringliteral">&quot;Saturday&quot;</span>,</div>
<div class="line">  <span class="stringliteral">&quot;Sunday&quot;</span></div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span>* HTTPTraits::SHORT_MONTH[12] = {</div>
<div class="line">  <span class="stringliteral">&quot;Jan&quot;</span>,</div>
<div class="line">  <span class="stringliteral">&quot;Feb&quot;</span>,</div>
<div class="line">  <span class="stringliteral">&quot;Mar&quot;</span>,</div>
<div class="line">  <span class="stringliteral">&quot;Apr&quot;</span>,</div>
<div class="line">  <span class="stringliteral">&quot;May&quot;</span>,</div>
<div class="line">  <span class="stringliteral">&quot;Jun&quot;</span>,</div>
<div class="line">  <span class="stringliteral">&quot;Jul&quot;</span>,</div>
<div class="line">  <span class="stringliteral">&quot;Aug&quot;</span>,</div>
<div class="line">  <span class="stringliteral">&quot;Sep&quot;</span>,</div>
<div class="line">  <span class="stringliteral">&quot;Oct&quot;</span>,</div>
<div class="line">  <span class="stringliteral">&quot;Nov&quot;</span>,</div>
<div class="line">  <span class="stringliteral">&quot;Dec&quot;</span></div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>MessageHeader : <span class="keyword">public</span> <a name="_a5"></a><a class="code" href="class_object.html">Object</a> {</div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line"> </div>
<div class="line">  <a name="_a6"></a><a class="code" href="class_string.html">String</a> name;</div>
<div class="line">  <a class="code" href="class_string.html">String</a> value;</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line"> </div>
<div class="line">  MessageHeader(<span class="keyword">const</span> <a class="code" href="class_string.html">String</a>&amp; line) {</div>
<div class="line">    String::ReadIterator begin = line.<a name="a7"></a><a class="code" href="class_string.html#a304007fdfcd2acdae2f0b56217ae920c">getBeginReadIterator</a>();</div>
<div class="line">    <span class="keyword">const</span> String::ReadIterator end = line.<a name="a8"></a><a class="code" href="class_string.html#a329ec306ac33605383654cd9c1040709">getEndReadIterator</a>();</div>
<div class="line">    String::ReadIterator i = begin;</div>
<div class="line">    String::ReadIterator name = i;</div>
<div class="line">    <span class="keywordflow">for</span> (; (i &lt; end) &amp;&amp; HTTPTraits::isToken(*i); ++i) { <span class="comment">// skip name</span></div>
<div class="line">    }</div>
<div class="line">    bassert(name &lt; i, <a class="code" href="class_h_t_t_p_exception.html">HTTPException</a>(<span class="stringliteral">&quot;Invalid message header.&quot;</span>));</div>
<div class="line">    this-&gt;name = line.<a name="a9"></a><a class="code" href="class_string.html#aaa820ec17b415ebcb14a57b9b19f3740">substring</a>(name - begin, i - begin);</div>
<div class="line">    bassert(*i++ == <span class="charliteral">&#39;:&#39;</span>, <a class="code" href="class_h_t_t_p_exception.html">HTTPException</a>(<span class="stringliteral">&quot;Invalid message header.&quot;</span>));</div>
<div class="line">    <span class="keywordflow">for</span> (; (i &lt; end) &amp;&amp; HTTPTraits::isLWS(*i); ++i) { <span class="comment">// skip LWS</span></div>
<div class="line">    }</div>
<div class="line">    String::ReadIterator value = i;</div>
<div class="line">    String::ReadIterator endValue = end;</div>
<div class="line">    <span class="keywordflow">while</span> (value &lt; endValue) { <span class="comment">// skip trailing LWS</span></div>
<div class="line">      --endValue;</div>
<div class="line">      <span class="keywordflow">if</span> (!HTTPTraits::isLWS(*endValue)) {</div>
<div class="line">        ++endValue;</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (*i == <span class="charliteral">&#39;&quot;&#39;</span>) { <span class="comment">// is value quoted</span></div>
<div class="line">      ++i; <span class="comment">// skip &#39;&quot;&#39;</span></div>
<div class="line">      ++value;</div>
<div class="line">      <span class="keywordflow">for</span> (; (i &lt; endValue) &amp;&amp; (*i != <span class="charliteral">&#39;&quot;&#39;</span>) &amp;&amp; HTTPTraits::isText(*i); ++i) { <span class="comment">// skip quoted string</span></div>
<div class="line">        <span class="comment">// TAG: need support for &#39;\\&#39;</span></div>
<div class="line">      }</div>
<div class="line">      bassert(</div>
<div class="line">        (i == --endValue) &amp;&amp; (*i++ == <span class="charliteral">&#39;&quot;&#39;</span>),</div>
<div class="line">        <a class="code" href="class_h_t_t_p_exception.html">HTTPException</a>(<span class="stringliteral">&quot;Invalid message header.&quot;</span>)</div>
<div class="line">      );</div>
<div class="line">    }</div>
<div class="line">    this-&gt;value = line.<a class="code" href="class_string.html#aaa820ec17b415ebcb14a57b9b19f3740">substring</a>(value - begin, endValue - begin);</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <a class="code" href="class_string.html">String</a> getName()<span class="keyword"> const </span>{</div>
<div class="line">    <span class="keywordflow">return</span> name;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <a class="code" href="class_string.html">String</a> getValue()<span class="keyword"> const </span>{</div>
<div class="line">    <span class="keywordflow">return</span> value;</div>
<div class="line">  }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span><a name="_a10"></a><a class="code" href="class_push_interface.html">PushInterface</a> {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> pushBegin(<span class="keywordtype">long</span> <span class="keywordtype">long</span> totalSize) = 0;</div>
<div class="line">  <span class="keyword">virtual</span> MemorySize push(<span class="keyword">const</span> uint8* buffer, MemorySize size) = 0;</div>
<div class="line">  <span class="keyword">virtual</span> <span class="keywordtype">void</span> pushEnd() = 0;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span><a name="_a11"></a><a class="code" href="class_pull_interface.html">PullInterface</a> {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">virtual</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> pullBegin() <span class="keyword">const</span> = 0;</div>
<div class="line">  <span class="keyword">virtual</span> MemorySize pull(uint8* buffer, MemorySize size) = 0;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>PushToNothing {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line"> </div>
<div class="line">  <span class="keywordtype">bool</span> pushBegin(<span class="keywordtype">long</span> <span class="keywordtype">long</span> totalSize)</div>
<div class="line">  {</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  MemorySize push(<span class="keyword">const</span> uint8* buffer, MemorySize size)</div>
<div class="line">  {</div>
<div class="line">    <span class="keywordflow">return</span> size;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="keywordtype">void</span> pushEnd() {</div>
<div class="line">  }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>PushToStandardOutput : <span class="keyword">public</span> <span class="keyword">virtual</span> <a class="code" href="class_object.html">Object</a>, <span class="keyword">public</span> <a class="code" href="class_push_interface.html">PushInterface</a> {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line"> </div>
<div class="line">  PushToStandardOutput() {</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="keywordtype">bool</span> pushBegin(<span class="keywordtype">long</span> <span class="keywordtype">long</span> totalSize)</div>
<div class="line">  {</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  MemorySize push(<span class="keyword">const</span> uint8* buffer, MemorySize size)</div>
<div class="line">  {</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; size;) {</div>
<div class="line">      <span class="keywordtype">char</span> ch = *buffer++;</div>
<div class="line">      ++i;</div>
<div class="line">      <span class="keywordflow">if</span> (ch == <span class="charliteral">&#39;\n&#39;</span>) {</div>
<div class="line">        fout &lt;&lt; EOL;</div>
<div class="line">        <span class="keywordflow">if</span> ((i &lt; size) &amp;&amp; (*buffer == <span class="charliteral">&#39;\r&#39;</span>)) {</div>
<div class="line">          ++buffer; <span class="comment">// skip</span></div>
<div class="line">          ++i;</div>
<div class="line">        }</div>
<div class="line">      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ch == <span class="charliteral">&#39;\r&#39;</span>) {</div>
<div class="line">        fout &lt;&lt; EOL;</div>
<div class="line">        <span class="keywordflow">if</span> ((i &lt; size) &amp;&amp; (*buffer == <span class="charliteral">&#39;\n&#39;</span>)) {</div>
<div class="line">          ++buffer; <span class="comment">// skip</span></div>
<div class="line">          ++i;</div>
<div class="line">        }</div>
<div class="line">      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a name="a12"></a><a class="code" href="class_a_s_c_i_i_traits.html#a1a63f1408e086cb6b255931e83c0ef8d">ASCIITraits::isGraph</a>(ch)) {</div>
<div class="line">        fout &lt;&lt; ch;</div>
<div class="line">      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ch != <span class="charliteral">&#39; &#39;</span>) {</div>
<div class="line">        fout &lt;&lt; <span class="charliteral">&#39;.&#39;</span>;</div>
<div class="line">      } <span class="keywordflow">else</span> {</div>
<div class="line">        fout &lt;&lt; <span class="charliteral">&#39; &#39;</span>;</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> size;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="keywordtype">void</span> pushEnd() {</div>
<div class="line">    fout &lt;&lt; ENDL;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">virtual</span> ~PushToStandardOutput() {</div>
<div class="line">  }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>PushToFile : <span class="keyword">public</span> <span class="keyword">virtual</span> <a class="code" href="class_object.html">Object</a>, <span class="keyword">public</span> <a class="code" href="class_push_interface.html">PushInterface</a> {</div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line"> </div>
<div class="line">  <a name="_a13"></a><a class="code" href="class_file.html">File</a> file;</div>
<div class="line">  <a name="_a14"></a><a class="code" href="class_timer.html">Timer</a> timer;</div>
<div class="line">  <span class="keywordtype">long</span> <span class="keywordtype">long</span> bytesWritten = 0;</div>
<div class="line">  <span class="keywordtype">long</span> <span class="keywordtype">long</span> totalSize = 0;</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line"> </div>
<div class="line">  PushToFile(<a class="code" href="class_file.html">File</a> _file) : file(_file) {</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="keywordtype">bool</span> pushBegin(<span class="keywordtype">long</span> <span class="keywordtype">long</span> totalSize) {</div>
<div class="line">    this-&gt;totalSize = totalSize;</div>
<div class="line">    timer.<a name="a15"></a><a class="code" href="class_timer.html#a19375c7e1d21fb6bdca3bbfa4cb2ff6a">start</a>();</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">  }</div>
<div class="line">  </div>
<div class="line">  MemorySize push(<span class="keyword">const</span> uint8* buffer, MemorySize size)</div>
<div class="line">  {</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> result = file.<a name="a16"></a><a class="code" href="class_file.html#aa36123e54912bf16e4e0ee700519f98a">write</a>(buffer, size);</div>
<div class="line">    BASSERT(result == size);</div>
<div class="line">    bytesWritten += size;</div>
<div class="line">    <span class="keywordflow">if</span> (totalSize &gt; 0) {</div>
<div class="line">      fout &lt;&lt; <span class="stringliteral">&quot;  bytes written=&quot;</span> &lt;&lt; bytesWritten</div>
<div class="line">           &lt;&lt; <span class="stringliteral">&quot;  completed=&quot;</span> &lt;&lt; base::FIXED &lt;&lt; setWidth(7) &lt;&lt; setPrecision(3)</div>
<div class="line">           &lt;&lt; <span class="keyword">static_cast&lt;</span><span class="keywordtype">long</span> <span class="keywordtype">double</span><span class="keyword">&gt;</span>(bytesWritten)/totalSize*100 &lt;&lt; <span class="charliteral">&#39;%&#39;</span></div>
<div class="line">           &lt;&lt; <span class="stringliteral">&quot;  time=&quot;</span> &lt;&lt; base::FIXED &lt;&lt; setWidth(6) &lt;&lt; timer.<a name="a17"></a><a class="code" href="class_timer.html#ab82c0b645c7b797b2a970812dc3617e3">getLiveMicroseconds</a>()/1000000.</div>
<div class="line">           &lt;&lt; <span class="stringliteral">&quot;  rate=&quot;</span> &lt;&lt; base::FIXED &lt;&lt; setWidth(12) &lt;&lt; setPrecision(3)</div>
<div class="line">           &lt;&lt; (1000000./1024 * <span class="keyword">static_cast&lt;</span><span class="keywordtype">long</span> <span class="keywordtype">double</span><span class="keyword">&gt;</span>(bytesWritten)/timer.<a class="code" href="class_timer.html#ab82c0b645c7b797b2a970812dc3617e3">getLiveMicroseconds</a>())</div>
<div class="line">           &lt;&lt; <span class="stringliteral">&quot;kb/s\r&quot;</span> &lt;&lt; FLUSH;</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">      fout &lt;&lt; <span class="stringliteral">&quot;  bytes written=&quot;</span> &lt;&lt; bytesWritten</div>
<div class="line">           &lt;&lt; <span class="stringliteral">&quot;  time=&quot;</span> &lt;&lt; base::FIXED &lt;&lt; setWidth(6) &lt;&lt; timer.<a class="code" href="class_timer.html#ab82c0b645c7b797b2a970812dc3617e3">getLiveMicroseconds</a>()/1000000.</div>
<div class="line">           &lt;&lt; <span class="stringliteral">&quot;  rate=&quot;</span> &lt;&lt; base::FIXED &lt;&lt; setWidth(12) &lt;&lt; setPrecision(3)</div>
<div class="line">           &lt;&lt; (1000000./1024 * <span class="keyword">static_cast&lt;</span><span class="keywordtype">long</span> <span class="keywordtype">double</span><span class="keyword">&gt;</span>(bytesWritten)/timer.<a class="code" href="class_timer.html#ab82c0b645c7b797b2a970812dc3617e3">getLiveMicroseconds</a>())</div>
<div class="line">           &lt;&lt; <span class="stringliteral">&quot;kb/s\r&quot;</span> &lt;&lt; FLUSH;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> size;</div>
<div class="line">  }</div>
<div class="line">  </div>
<div class="line">  <span class="keywordtype">void</span> pushEnd() {</div>
<div class="line">    fout &lt;&lt; ENDL;</div>
<div class="line">    file.<a name="a18"></a><a class="code" href="class_file.html#a83cbce54d6c3b8c2f417b51f6b3f488c">close</a>();</div>
<div class="line">  }</div>
<div class="line">  </div>
<div class="line">  <span class="keyword">virtual</span> ~PushToFile() {</div>
<div class="line">  }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>HypertextTransferProtocolClient : <span class="keyword">public</span> <a class="code" href="class_object.html">Object</a> {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> DEFAULT_RETRY_DELAY = 15;</div>
<div class="line">  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> DEFAULT_RETRY_ATTEMPTS = 5;</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">class </span>InvalidResponse : <span class="keyword">public</span> <a class="code" href="class_h_t_t_p_exception.html">HTTPException</a> {</div>
<div class="line">  <span class="keyword">public</span>:</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">inline</span> InvalidResponse()</div>
<div class="line">      : <a class="code" href="class_h_t_t_p_exception.html">HTTPException</a>()</div>
<div class="line">    {</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">inline</span> InvalidResponse(<span class="keyword">const</span> <span class="keywordtype">char</span>* message)</div>
<div class="line">      : <a class="code" href="class_h_t_t_p_exception.html">HTTPException</a>(message)</div>
<div class="line">    {</div>
<div class="line">    }</div>
<div class="line">  };</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">typedef</span> HTTPTraits Traits;</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">enum</span> Verbosity {SILENT, SHORT, ALL, DEBUG_NORMAL, DEBUG_EXTENDED};</div>
<div class="line">  <span class="keyword">enum</span> StatusClass {INFORMATION, SUCCESS, REDIRECTION, CLIENT_ERROR, SERVER_ERROR};</div>
<div class="line">  <span class="keyword">enum</span> Method {OPTIONS, GET, HEAD, POST, PUT, DELETE, TRACE, CONNECT};</div>
<div class="line">  <span class="keyword">enum</span> ContentType {TEXT, IMAGE, UNSPECIFIED}; <span class="comment">// FIXME: need mime-type support</span></div>
<div class="line">  </div>
<div class="line">  <span class="keyword">struct </span>Status {</div>
<div class="line">    StatusClass statusClass = CLIENT_ERROR;</div>
<div class="line">    <span class="keywordtype">int</span> code = 0;</div>
<div class="line">  };</div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">const</span> <a class="code" href="class_string.html">String</a> host;</div>
<div class="line">  <a name="_a19"></a><a class="code" href="class_inet_end_point.html">InetEndPoint</a> endPoint;</div>
<div class="line">  <a name="_a20"></a><a class="code" href="class_stream_socket.html">StreamSocket</a> controlConnection;</div>
<div class="line"> </div>
<div class="line">  <span class="keywordtype">bool</span> responsePending = <span class="keyword">false</span>;</div>
<div class="line">  <a class="code" href="class_string.html">String</a> response;</div>
<div class="line">  Status status;</div>
<div class="line">  <a class="code" href="class_string.html">String</a> reasonPhrase;</div>
<div class="line">  Verbosity verbosity = ALL;</div>
<div class="line">  </div>
<div class="line">  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> retryDelay = 0;</div>
<div class="line">  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> retryAttempts = 0;</div>
<div class="line">  <a name="_a21"></a><a class="code" href="class_allocator.html">Allocator&lt;uint8&gt;</a> buffer;</div>
<div class="line"><span class="keyword">protected</span>:</div>
<div class="line"> </div>
<div class="line">  <span class="keywordtype">void</span> translateStatus(<span class="keyword">const</span> <a class="code" href="class_string.html">String</a>&amp; value) {</div>
<div class="line">    String::ReadIterator i = value.<a class="code" href="class_string.html#a304007fdfcd2acdae2f0b56217ae920c">getBeginReadIterator</a>();</div>
<div class="line">    String::ReadIterator end = value.<a class="code" href="class_string.html#a329ec306ac33605383654cd9c1040709">getEndReadIterator</a>();</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">bool</span> valid = <span class="keyword">true</span>;</div>
<div class="line">    <span class="keywordtype">bool</span> validVersion = <span class="keyword">false</span>;</div>
<div class="line">    <span class="keywordtype">bool</span> validCode = <span class="keyword">false</span>;</div>
<div class="line">    <span class="keywordtype">bool</span> validPhrase = <span class="keyword">false</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> ((i &lt; end) &amp;&amp; (*i++ == <span class="charliteral">&#39;H&#39;</span>) &amp;&amp;</div>
<div class="line">        (i &lt; end) &amp;&amp; (*i++ == <span class="charliteral">&#39;T&#39;</span>) &amp;&amp;</div>
<div class="line">        (i &lt; end) &amp;&amp; (*i++ == <span class="charliteral">&#39;T&#39;</span>) &amp;&amp;</div>
<div class="line">        (i &lt; end) &amp;&amp; (*i++ == <span class="charliteral">&#39;P&#39;</span>) &amp;&amp;</div>
<div class="line">        (i &lt; end) &amp;&amp; (*i++ == <span class="charliteral">&#39;/&#39;</span>) &amp;&amp;</div>
<div class="line">        (i &lt; end) &amp;&amp; <a name="a22"></a><a class="code" href="class_a_s_c_i_i_traits.html#a1df3744ed0d8f450cebb08cc47920887">ASCIITraits::isDigit</a>(*i)) {</div>
<div class="line">      <span class="keywordflow">while</span> ((i &lt; end) &amp;&amp; <a class="code" href="class_a_s_c_i_i_traits.html#a1df3744ed0d8f450cebb08cc47920887">ASCIITraits::isDigit</a>(*i)) { <span class="comment">// get major version</span></div>
<div class="line">        ++i;</div>
<div class="line">      }</div>
<div class="line">      <span class="keywordflow">if</span> ((i &lt; end) &amp;&amp; (*i++ == <span class="charliteral">&#39;.&#39;</span>) &amp;&amp; (i &lt; end) &amp;&amp; <a class="code" href="class_a_s_c_i_i_traits.html#a1df3744ed0d8f450cebb08cc47920887">ASCIITraits::isDigit</a>(*i)) {</div>
<div class="line">        <span class="keywordflow">while</span> ((i &lt; end) &amp;&amp; <a class="code" href="class_a_s_c_i_i_traits.html#a1df3744ed0d8f450cebb08cc47920887">ASCIITraits::isDigit</a>(*i)) { <span class="comment">// get minor version</span></div>
<div class="line">          ++i;</div>
<div class="line">        }</div>
<div class="line">        validVersion = <span class="keyword">true</span>;</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (!((i &lt; end) &amp;&amp; (*i++ == <span class="charliteral">&#39; &#39;</span>))) { <span class="comment">// check for field separator</span></div>
<div class="line">      valid = <span class="keyword">false</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (valid &amp;&amp; validVersion) {</div>
<div class="line">      <span class="keywordflow">if</span> (end - i &gt;= 3) { <span class="comment">// need 3 digits</span></div>
<div class="line">        <span class="keywordtype">char</span> a = *i++;</div>
<div class="line">        <span class="keywordtype">char</span> b = *i++;</div>
<div class="line">        <span class="keywordtype">char</span> c = *i++;</div>
<div class="line">        <span class="keywordflow">if</span> ((a &gt;= <span class="charliteral">&#39;1&#39;</span>) &amp;&amp; (a &lt;= <span class="charliteral">&#39;5&#39;</span>) &amp;&amp; <a class="code" href="class_a_s_c_i_i_traits.html#a1df3744ed0d8f450cebb08cc47920887">ASCIITraits::isDigit</a>(b) &amp;&amp; <a class="code" href="class_a_s_c_i_i_traits.html#a1df3744ed0d8f450cebb08cc47920887">ASCIITraits::isDigit</a>(c)) {</div>
<div class="line">          <span class="keyword">static</span> <span class="keyword">const</span> StatusClass classes[] = {INFORMATION, SUCCESS, REDIRECTION, CLIENT_ERROR, SERVER_ERROR};</div>
<div class="line">          status.statusClass = classes[a - <span class="charliteral">&#39;1&#39;</span>];</div>
<div class="line">          status.code = (<span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(a-<span class="charliteral">&#39;0&#39;</span>) * 10 + <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(b-<span class="charliteral">&#39;0&#39;</span>)) * 10 + <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(c-<span class="charliteral">&#39;0&#39;</span>);</div>
<div class="line">          validCode = <span class="keyword">true</span>;</div>
<div class="line">        }</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (!((i &lt; end) &amp;&amp; (*i++ == <span class="charliteral">&#39; &#39;</span>))) { <span class="comment">// check for field separator</span></div>
<div class="line">      valid = <span class="keyword">false</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (valid &amp;&amp; validCode) {</div>
<div class="line">      <span class="keywordflow">while</span> ((i &lt; end) &amp;&amp; (*i &gt; 0x1f) &amp;&amp; (*i &lt; 0x7f)) {</div>
<div class="line">        reasonPhrase += *i++;</div>
<div class="line">      }</div>
<div class="line">      <span class="keywordflow">if</span> (i == end) {</div>
<div class="line">        validPhrase = <span class="keyword">true</span>;</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    bassert(valid &amp;&amp; validVersion &amp;&amp; validCode &amp;&amp; validPhrase, <a class="code" href="class_h_t_t_p_exception.html">HTTPException</a>(<span class="stringliteral">&quot;Invalid response.&quot;</span>));</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="comment">/* See chapter 5 of RFC */</span></div>
<div class="line">  <a class="code" href="class_string.html">String</a> makeRequest(Method method, <span class="keyword">const</span> <a class="code" href="class_string.html">String</a>&amp; host, <span class="keyword">const</span> <a class="code" href="class_string.html">String</a>&amp; resourceUri) {</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="class_literal.html">Literal</a> AGENT = MESSAGE(<span class="stringliteral">&quot;http/0.1 (Base Framework)&quot;</span>);</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="class_literal.html">Literal</a> methods[] = {</div>
<div class="line">      METHOD_OPTIONS,</div>
<div class="line">      METHOD_GET,</div>
<div class="line">      METHOD_HEAD,</div>
<div class="line">      METHOD_POST,</div>
<div class="line">      METHOD_PUT,</div>
<div class="line">      METHOD_DELETE,</div>
<div class="line">      METHOD_TRACE,</div>
<div class="line">      METHOD_CONNECT</div>
<div class="line">    };</div>
<div class="line"> </div>
<div class="line">    bassert(resourceUri != <span class="stringliteral">&quot;&quot;</span>, <a class="code" href="class_h_t_t_p_exception.html">HTTPException</a>(<span class="stringliteral">&quot;Empty resourceUri.&quot;</span>));</div>
<div class="line">    </div>
<div class="line">    <a name="_a23"></a><a class="code" href="class_string_output_stream.html">StringOutputStream</a> stream;</div>
<div class="line">    stream &lt;&lt; methods[method] &lt;&lt; Traits::SP &lt;&lt; resourceUri &lt;&lt; Traits::SP</div>
<div class="line">           &lt;&lt; <span class="stringliteral">&quot;HTTP/1.1&quot;</span> &lt;&lt; CRLF <span class="comment">// Request-Line</span></div>
<div class="line">           &lt;&lt; <span class="stringliteral">&quot;Host: &quot;</span> &lt;&lt; host &lt;&lt; CRLF <span class="comment">// Section 14.23 (required)</span></div>
<div class="line">           &lt;&lt; <span class="stringliteral">&quot;User-Agent: &quot;</span> &lt;&lt; AGENT &lt;&lt; CRLF <span class="comment">// Section 14.43</span></div>
<div class="line">           &lt;&lt; CRLF &lt;&lt; FLUSH;</div>
<div class="line">    <span class="keywordflow">if</span> (verbosity &gt;= DEBUG_NORMAL) {</div>
<div class="line">      fout &lt;&lt; <span class="stringliteral">&quot;Request: &quot;</span> &lt;&lt; stream.<a name="a24"></a><a class="code" href="class_string_output_stream.html#a5961bae1abf412a65744385e536cc029">getString</a>() &lt;&lt; ENDL;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> stream.<a class="code" href="class_string_output_stream.html#a5961bae1abf412a65744385e536cc029">getString</a>();</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// See chapter 6 in RFC</span></div>
<div class="line">  <span class="keywordtype">void</span> getResponse(<a class="code" href="class_push_interface.html">PushInterface</a>* push) {</div>
<div class="line">    controlConnection.<a name="a25"></a><a class="code" href="class_stream_socket.html#ae2359c3570860e8b8467d4e8e316f109">wait</a>();</div>
<div class="line">    </div>
<div class="line">    <a name="_a26"></a><a class="code" href="class_format_input_stream.html">FormatInputStream</a> instream(controlConnection);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (verbosity &gt;= DEBUG_NORMAL) {</div>
<div class="line">      fout &lt;&lt; <span class="stringliteral">&quot;DEBUG: bytes available: &quot;</span> &lt;&lt; instream.available() &lt;&lt; ENDL;</div>
<div class="line">    }</div>
<div class="line">    BASSERT(instream.available() == controlConnection.<a name="a27"></a><a class="code" href="class_stream_socket.html#a1865861519ed84748e4263954e665f5f">available</a>());</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// int terminationCode = -1; // invalidate</span></div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Status-Line - HTTP-Version SP Status-Code SP Reason-Phrase CRLF - See section 6.1 in RFC</span></div>
<div class="line">    <a class="code" href="class_string.html">String</a> statusLine;</div>
<div class="line">    instream &gt;&gt; statusLine;</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">if</span> (verbosity &gt;= DEBUG_NORMAL) {</div>
<div class="line">      fout &lt;&lt; <span class="stringliteral">&quot;Status-Line: &quot;</span> &lt;&lt; statusLine &lt;&lt; ENDL;</div>
<div class="line">    }</div>
<div class="line">    translateStatus(statusLine);</div>
<div class="line">    </div>
<div class="line">    <span class="keywordtype">bool</span> chunkedTransferEncoding = <span class="keyword">false</span>;</div>
<div class="line">    <span class="keywordtype">bool</span> hasContentLength = <span class="keyword">false</span>;</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> contentLength = 0;</div>
<div class="line">    <a class="code" href="class_string.html">String</a> contentType;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Section 4.5, 6.2, and 7.1 in RFC</span></div>
<div class="line">    <span class="keywordflow">while</span> (<span class="keyword">true</span>) { <span class="comment">// read response</span></div>
<div class="line">      <a class="code" href="class_string.html">String</a> line;</div>
<div class="line">      instream &gt;&gt; line;</div>
<div class="line"> </div>
<div class="line">      <span class="keywordflow">if</span> (verbosity &gt;= ALL) {</div>
<div class="line">        fout &lt;&lt; <span class="stringliteral">&quot;&gt;&gt; &quot;</span> &lt;&lt; line &lt;&lt; ENDL;</div>
<div class="line">      }</div>
<div class="line"> </div>
<div class="line">      <span class="keywordflow">if</span> (line.isEmpty()) {</div>
<div class="line">        <span class="keywordflow">break</span>; <span class="comment">// end of headers</span></div>
<div class="line">      }</div>
<div class="line"> </div>
<div class="line">      MessageHeader header(line);</div>
<div class="line">      fout &lt;&lt; <span class="stringliteral">&quot;name=&quot;</span> &lt;&lt; header.getName() &lt;&lt; Traits::SP</div>
<div class="line">           &lt;&lt; <span class="stringliteral">&quot;value=&quot;</span> &lt;&lt; header.getValue() &lt;&lt; ENDL;</div>
<div class="line">      </div>
<div class="line">      <span class="keywordflow">if</span> (header.getName() == <span class="stringliteral">&quot;Transfer-Encoding&quot;</span>) {</div>
<div class="line">        <span class="keywordflow">if</span> (header.getValue().toLowerCase() == <span class="stringliteral">&quot;chunked&quot;</span>) {</div>
<div class="line">          chunkedTransferEncoding = <span class="keyword">true</span>;</div>
<div class="line">        }</div>
<div class="line">      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (header.getName() == <span class="stringliteral">&quot;Content-Length&quot;</span>) {</div>
<div class="line">        <span class="keywordflow">try</span> {</div>
<div class="line">          contentLength = <a name="_a28"></a><a class="code" href="class_unsigned_integer.html">UnsignedInteger</a>(header.getValue());</div>
<div class="line">          hasContentLength = <span class="keyword">true</span>;</div>
<div class="line">        } <span class="keywordflow">catch</span> (<a name="_a29"></a><a class="code" href="class_invalid_format.html">InvalidFormat</a>&amp;) {</div>
<div class="line">          _throw <a class="code" href="class_h_t_t_p_exception.html">HTTPException</a>(<span class="stringliteral">&quot;Invalid value for Content-Length field.&quot;</span>);</div>
<div class="line">        }</div>
<div class="line">      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (header.getName() == <span class="stringliteral">&quot;Content-Type&quot;</span>) {</div>
<div class="line">        contentType = header.getValue();</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (chunkedTransferEncoding) {</div>
<div class="line">      <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> totalLength = 0;</div>
<div class="line">      <a class="code" href="class_string.html">String</a> line;</div>
<div class="line"> </div>
<div class="line">      <span class="keywordflow">while</span> (<span class="keyword">true</span>) { <span class="comment">// read all chunks</span></div>
<div class="line">        instream &gt;&gt; line;</div>
<div class="line"> </div>
<div class="line">        String::ReadIterator i = line.<a class="code" href="class_string.html#a304007fdfcd2acdae2f0b56217ae920c">getBeginReadIterator</a>();</div>
<div class="line">        <span class="keyword">const</span> String::ReadIterator end = line.getEndReadIterator();</div>
<div class="line">        <span class="keywordflow">while</span> ((i &lt; end) &amp;&amp; (*i == Traits::SP)) { <span class="comment">// skip spaces</span></div>
<div class="line">          ++i;</div>
<div class="line">        }</div>
<div class="line">        bassert(</div>
<div class="line">          (i &lt; end) &amp;&amp; <a name="a30"></a><a class="code" href="class_a_s_c_i_i_traits.html#a6f28ce156ee53ef72ce671c01b18fa27">ASCIITraits::isHexDigit</a>(*i),</div>
<div class="line">          InvalidResponse(<span class="stringliteral">&quot;Chunk size invalid&quot;</span>)</div>
<div class="line">        );</div>
<div class="line">        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> chunkSize = 0;</div>
<div class="line">        <span class="keywordflow">while</span> ((i &lt; end) &amp;&amp; <a class="code" href="class_a_s_c_i_i_traits.html#a6f28ce156ee53ef72ce671c01b18fa27">ASCIITraits::isHexDigit</a>(*i)) { <span class="comment">// read chunk size</span></div>
<div class="line">          chunkSize = chunkSize * 16 + <a name="a31"></a><a class="code" href="class_a_s_c_i_i_traits.html#ad377ef14bade6b70952262afa56c9cbe">ASCIITraits::digitToValue</a>(*i);</div>
<div class="line">          ++i;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// TAG: need to chunk extension</span></div>
<div class="line">        <span class="keywordflow">if</span> (chunkSize == 0) { <span class="comment">// stop if last chunk</span></div>
<div class="line">          <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        totalLength += chunkSize;</div>
<div class="line">        BASSERT(push);</div>
<div class="line">        <span class="keywordflow">if</span> (push-&gt;<a name="a32"></a>pushBegin(0)) { <span class="comment">// total size is unknown</span></div>
<div class="line">          <span class="keywordtype">long</span> <span class="keywordtype">long</span> bytesRead = 0;</div>
<div class="line">          <span class="keywordflow">while</span> (bytesRead &lt; chunkSize) {</div>
<div class="line">            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> bytesToRead = minimum&lt;long long&gt;(buffer.<a name="a33"></a><a class="code" href="class_allocator.html#a813f826a7bcf0ab06e9dafa5cc0730f4">getSize</a>(), chunkSize - bytesRead);</div>
<div class="line">            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> result = instream.read(buffer.<a name="a34"></a><a class="code" href="class_allocator.html#abbfd194591389976896abc85ce1f1872">getElements</a>(), bytesToRead);</div>
<div class="line">            bytesRead += result;</div>
<div class="line">            push-&gt;<a name="a35"></a><a class="code" href="class_push_interface.html#a938e5de881940780738c4ae8cf0e878c">push</a>(Cast::pointer&lt;const uint8*&gt;(buffer.<a class="code" href="class_allocator.html#abbfd194591389976896abc85ce1f1872">getElements</a>()), result);</div>
<div class="line">          }</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        instream &gt;&gt; line;</div>
<div class="line">        BASSERT(line.isEmpty());</div>
<div class="line">      }</div>
<div class="line">      push-&gt;<a name="a36"></a><a class="code" href="class_push_interface.html#a9c1e62e52fd979bd14586b50336402f4">pushEnd</a>();</div>
<div class="line"> </div>
<div class="line">      <span class="keywordflow">while</span> (<span class="keyword">true</span>) { <span class="comment">// read trailer</span></div>
<div class="line">        <a class="code" href="class_string.html">String</a> line;</div>
<div class="line">        instream &gt;&gt; line;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (verbosity &gt;= ALL) {</div>
<div class="line">          fout &lt;&lt; <span class="stringliteral">&quot;&gt;&gt; &quot;</span> &lt;&lt; line &lt;&lt; ENDL;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (line.isEmpty()) {</div>
<div class="line">          <span class="keywordflow">break</span>; <span class="comment">// end of trailer</span></div>
<div class="line">        }</div>
<div class="line">      }</div>
<div class="line">    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (hasContentLength) { <span class="comment">// message-body - See section 7.2 in RFC</span></div>
<div class="line">      <span class="keywordflow">if</span> (verbosity &gt;=  DEBUG_NORMAL) {</div>
<div class="line">        fout &lt;&lt; <span class="stringliteral">&quot;Reading content: &quot;</span> &lt;&lt; contentLength &lt;&lt; <span class="stringliteral">&quot; byte(s)&quot;</span> &lt;&lt; ENDL;</div>
<div class="line">      }</div>
<div class="line"> </div>
<div class="line">      <span class="keywordflow">if</span> (push) {</div>
<div class="line">        <span class="keywordflow">if</span> (push-&gt;pushBegin(contentLength)) {</div>
<div class="line">          <span class="keywordtype">long</span> <span class="keywordtype">long</span> bytesRead = 0;</div>
<div class="line">          <span class="keywordflow">while</span> (bytesRead &lt; contentLength) {</div>
<div class="line">            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> bytesToRead = minimum&lt;long long&gt;(buffer.<a class="code" href="class_allocator.html#a813f826a7bcf0ab06e9dafa5cc0730f4">getSize</a>(), contentLength - bytesRead);</div>
<div class="line">            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> result = instream.read(buffer.<a class="code" href="class_allocator.html#abbfd194591389976896abc85ce1f1872">getElements</a>(), bytesToRead);</div>
<div class="line">            bytesRead += result;</div>
<div class="line">            push-&gt;<a class="code" href="class_push_interface.html#a938e5de881940780738c4ae8cf0e878c">push</a>(Cast::pointer&lt;const uint8*&gt;(buffer.<a class="code" href="class_allocator.html#abbfd194591389976896abc85ce1f1872">getElements</a>()), result);</div>
<div class="line">          }</div>
<div class="line">          push-&gt;<a class="code" href="class_push_interface.html#a9c1e62e52fd979bd14586b50336402f4">pushEnd</a>();</div>
<div class="line">        }</div>
<div class="line">      } <span class="keywordflow">else</span> {</div>
<div class="line">        <span class="keywordflow">if</span> (verbosity &gt;= DEBUG_NORMAL) {</div>
<div class="line">          fout &lt;&lt; <span class="stringliteral">&quot;DEBUG: skipping &quot;</span> &lt;&lt; contentLength &lt;&lt; <span class="stringliteral">&quot; byte(s)&quot;</span> &lt;&lt; ENDL;</div>
<div class="line">        }</div>
<div class="line">        instream.skip(contentLength);</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">static</span> <span class="keywordtype">bool</span> isValidString(<span class="keyword">const</span> <a class="code" href="class_string.html">String</a>&amp; str) {</div>
<div class="line">    <span class="keywordflow">if</span> (str.<a name="a37"></a><a class="code" href="class_string.html#ab31a36bda8c789ba3c0ed37bb16c978c">isEmpty</a>()) {</div>
<div class="line">      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    }</div>
<div class="line">    <span class="keyword">const</span> String::ReadIterator end = str.<a class="code" href="class_string.html#a329ec306ac33605383654cd9c1040709">getEndReadIterator</a>();</div>
<div class="line">    <span class="keywordflow">for</span> (String::ReadIterator i = str.<a class="code" href="class_string.html#a304007fdfcd2acdae2f0b56217ae920c">getBeginReadIterator</a>(); i &lt; end; ++i) {</div>
<div class="line">      <span class="keywordflow">if</span> (!<a name="a38"></a><a class="code" href="class_char_traits.html#a8ee60714fc024775be5568d3756f8b89">String::Traits::isASCII</a>(*i) || (*i == <span class="charliteral">&#39;\n&#39;</span>) || (*i == <span class="charliteral">&#39;\r&#39;</span>)) {</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">static</span> <span class="keywordtype">bool</span> isValidPrintableString(<span class="keyword">const</span> <a class="code" href="class_string.html">String</a>&amp; str) {</div>
<div class="line">    <span class="keywordflow">if</span> (str.<a class="code" href="class_string.html#ab31a36bda8c789ba3c0ed37bb16c978c">isEmpty</a>()) {</div>
<div class="line">      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    }</div>
<div class="line">    <span class="keyword">const</span> String::ReadIterator end = str.<a class="code" href="class_string.html#a329ec306ac33605383654cd9c1040709">getEndReadIterator</a>();</div>
<div class="line">    <span class="keywordflow">for</span> (String::ReadIterator i = str.<a class="code" href="class_string.html#a304007fdfcd2acdae2f0b56217ae920c">getBeginReadIterator</a>(); i &lt; end; ++i) {</div>
<div class="line">      <span class="keywordflow">if</span> ((*i &lt; 33) || (*i &gt; 126)) {</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  HypertextTransferProtocolClient(</div>
<div class="line">    <span class="keyword">const</span> <a class="code" href="class_string.html">String</a>&amp; _host,</div>
<div class="line">    <a class="code" href="class_inet_end_point.html">InetEndPoint</a> _endPoint,</div>
<div class="line">    Verbosity _verbosity = DEBUG_EXTENDED)</div>
<div class="line">    : host(_host),</div>
<div class="line">      endPoint(_endPoint),</div>
<div class="line">      verbosity(_verbosity),</div>
<div class="line">      retryDelay(DEFAULT_RETRY_DELAY),</div>
<div class="line">      retryAttempts(DEFAULT_RETRY_ATTEMPTS),</div>
<div class="line">      buffer(4096 * 64) {</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> getRetryDelay()<span class="keyword"> const </span>{</div>
<div class="line">    <span class="keywordflow">return</span> retryDelay;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="keywordtype">void</span> setRetryDelay(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> value) {</div>
<div class="line">    retryDelay = value;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> getRetryAttempts()<span class="keyword"> const </span>{</div>
<div class="line">    <span class="keywordflow">return</span> retryAttempts;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="keywordtype">void</span> setRetryAttempts(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> value) {</div>
<div class="line">    retryAttempts = value;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="keywordtype">void</span> connect() {</div>
<div class="line">    <span class="keywordflow">if</span> (verbosity &gt;= DEBUG_NORMAL) {</div>
<div class="line">      fout &lt;&lt; <span class="stringliteral">&quot;DEBUG: Establishing control connection to: &quot;</span></div>
<div class="line">           &lt;&lt; <span class="stringliteral">&quot;address=&quot;</span> &lt;&lt; endPoint.<a name="a39"></a><a class="code" href="class_inet_end_point.html#aa19ef1f6be976a00e13b544d89c3ba6a">getAddress</a>() &lt;&lt; <span class="charliteral">&#39; &#39;</span></div>
<div class="line">           &lt;&lt; <span class="stringliteral">&quot;port=&quot;</span> &lt;&lt; endPoint.<a name="a40"></a><a class="code" href="class_inet_end_point.html#aa99ae24dc2401d68c213a83e9d597556">getPort</a>() &lt;&lt; ENDL;</div>
<div class="line">    }</div>
<div class="line">    controlConnection.<a name="a41"></a><a class="code" href="class_stream_socket.html#a6e0aea719fe3e57d2ef4629d5a0c1fce">connect</a>(endPoint.<a class="code" href="class_inet_end_point.html#aa19ef1f6be976a00e13b544d89c3ba6a">getAddress</a>(), endPoint.<a class="code" href="class_inet_end_point.html#aa99ae24dc2401d68c213a83e9d597556">getPort</a>());</div>
<div class="line">    controlConnection.<a name="a42"></a><a class="code" href="class_stream_socket.html#a01819dfd9af1e02e66251e0b3a846b9c">getName</a>();</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="keywordtype">void</span> getOptions() {</div>
<div class="line">    <a class="code" href="class_string.html">String</a> request = makeRequest(OPTIONS, host, <span class="stringliteral">&quot;*&quot;</span>);</div>
<div class="line">    <a name="_a43"></a><a class="code" href="class_format_output_stream.html">FormatOutputStream</a> outstream(controlConnection);</div>
<div class="line">    outstream &lt;&lt; request &lt;&lt; FLUSH;</div>
<div class="line">    PushToStandardOutput push;</div>
<div class="line">    getResponse(&amp;push);</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="keywordtype">void</span> getResource(<span class="keyword">const</span> <a class="code" href="class_string.html">String</a>&amp; resource, <a class="code" href="class_push_interface.html">PushInterface</a>* push) {</div>
<div class="line">    <span class="keywordflow">if</span> (resource.<a name="a44"></a><a class="code" href="class_string.html#a65fccc1157873ede654aa52a4d9d1c55">isProper</a>()) {</div>
<div class="line">      <a class="code" href="class_string.html">String</a> request = makeRequest(GET, host, resource);</div>
<div class="line">      <a class="code" href="class_format_output_stream.html">FormatOutputStream</a> outstream(controlConnection);</div>
<div class="line">      outstream &lt;&lt; request &lt;&lt; FLUSH;</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">      <a class="code" href="class_string.html">String</a> request = makeRequest(GET, host, <span class="stringliteral">&quot;/&quot;</span>);</div>
<div class="line">      <a class="code" href="class_format_output_stream.html">FormatOutputStream</a> outstream(controlConnection);</div>
<div class="line">      outstream &lt;&lt; request &lt;&lt; FLUSH;</div>
<div class="line">    }</div>
<div class="line">    getResponse(push);</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  ~HypertextTransferProtocolClient() {</div>
<div class="line">    <span class="keywordflow">if</span> (verbosity &gt;= DEBUG_NORMAL) {</div>
<div class="line">      fout &lt;&lt; <span class="stringliteral">&quot;DEBUG: Closing sockets...&quot;</span> &lt;&lt; ENDL;</div>
<div class="line">    }</div>
<div class="line">    controlConnection.<a name="a45"></a><a class="code" href="class_stream_socket.html#a1e68b1fb2f1bcdc7473c004d1f38e202">shutdownOutputStream</a>();</div>
<div class="line">    controlConnection.<a name="a46"></a><a class="code" href="class_stream_socket.html#af0bbecc96f41e4dd13fcb993647350bf">close</a>();</div>
<div class="line">  }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>HTTPClient : <span class="keyword">public</span> <a class="code" href="class_object.html">Object</a> {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line"> </div>
<div class="line">  HTTPClient(<span class="keyword">const</span> <a class="code" href="class_string.html">String</a>&amp; resource, <span class="keyword">const</span> <a class="code" href="class_string.html">String</a>&amp; filename) {</div>
<div class="line">    <a name="_a47"></a><a class="code" href="class_url.html">Url</a> url(resource, <span class="keyword">false</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (url.getScheme().isEmpty()) {</div>
<div class="line">      url.setScheme(<span class="stringliteral">&quot;http&quot;</span>);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    fout &lt;&lt; <span class="stringliteral">&quot;Individual parts of the specified url:&quot;</span> &lt;&lt; EOL</div>
<div class="line">         &lt;&lt; <span class="stringliteral">&quot;  scheme: &quot;</span> &lt;&lt; url.getScheme() &lt;&lt; EOL</div>
<div class="line">         &lt;&lt; <span class="stringliteral">&quot;  user: &quot;</span> &lt;&lt; url.getUser() &lt;&lt; EOL</div>
<div class="line">         &lt;&lt; <span class="stringliteral">&quot;  password: &quot;</span> &lt;&lt; url.getPassword() &lt;&lt; EOL</div>
<div class="line">         &lt;&lt; <span class="stringliteral">&quot;  host: &quot;</span> &lt;&lt; url.getHost() &lt;&lt; EOL</div>
<div class="line">         &lt;&lt; <span class="stringliteral">&quot;  port: &quot;</span></div>
<div class="line">         &lt;&lt; (url.getPort().isProper() ? url.getPort() : <a class="code" href="class_string.html">String</a>(<span class="stringliteral">&quot;80&quot;</span>)) &lt;&lt; EOL</div>
<div class="line">         &lt;&lt; <span class="stringliteral">&quot;  path: &quot;</span> &lt;&lt; url.getPath() &lt;&lt; ENDL;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (url.getScheme() != <span class="stringliteral">&quot;http&quot;</span>) {</div>
<div class="line">      fout &lt;&lt; <span class="stringliteral">&quot;Invalid url&quot;</span> &lt;&lt; ENDL;</div>
<div class="line">      <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a name="_a48"></a><a class="code" href="class_inet_address.html">InetAddress</a> address; <span class="comment">// the address of the remote host</span></div>
<div class="line">    {</div>
<div class="line">      fout &lt;&lt; <span class="stringliteral">&quot;Server addresses:&quot;</span> &lt;&lt; ENDL;</div>
<div class="line">      <a name="_a49"></a><a class="code" href="class_list.html">List&lt;InetAddress&gt;</a> addresses =</div>
<div class="line">        <a name="a50"></a><a class="code" href="class_inet_address.html#a252f40425847bf9d1fb8d24ab5bfa3b8">InetAddress::getAddressesByName</a>(url.getHost());</div>
<div class="line">      <a name="_a51"></a><a class="code" href="class_double_linked_node_read_enumerator.html">List&lt;InetAddress&gt;::ReadEnumerator</a> enu = addresses.<a name="a52"></a><a class="code" href="class_list.html#a696406735a0196e8e0d090e2d1d72fc6">getReadEnumerator</a>();</div>
<div class="line">      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index = 0;</div>
<div class="line">      <span class="keywordflow">while</span> (enu.<a name="a53"></a><a class="code" href="class_double_linked_node_read_enumerator.html#af224dec383bf510a7074b8572c3add78">hasNext</a>()) {</div>
<div class="line">        <span class="keyword">const</span> <a class="code" href="class_inet_address.html">InetAddress</a>&amp; temp = enu.<a name="a54"></a><a class="code" href="class_double_linked_node_read_enumerator.html#a7394eb7fd5e6776e56931ada238bf480">next</a>();</div>
<div class="line">        <span class="keywordflow">if</span> (index == 0) { <span class="comment">// use the first address</span></div>
<div class="line">          address = temp;</div>
<div class="line">          fout &lt;&lt; <span class="stringliteral">&quot;  address &quot;</span> &lt;&lt; index++ &lt;&lt; <span class="stringliteral">&quot;: &quot;</span></div>
<div class="line">               &lt;&lt; temp &lt;&lt; <span class="stringliteral">&quot; (USING THIS)&quot;</span> &lt;&lt; ENDL;</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">          fout &lt;&lt; <span class="stringliteral">&quot;  address &quot;</span> &lt;&lt; index++ &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; temp &lt;&lt; ENDL;</div>
<div class="line">        }</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="class_inet_end_point.html">InetEndPoint</a> endPoint(</div>
<div class="line">      address, (url.getPort().isProper() ? url.getPort() : <a class="code" href="class_string.html">String</a>(<span class="stringliteral">&quot;80&quot;</span>))</div>
<div class="line">    );</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="class_string.html">String</a> host;</div>
<div class="line">    <a class="code" href="class_string.html">String</a> port = url.getPort();</div>
<div class="line">    <span class="keywordflow">if</span> (port.<a class="code" href="class_string.html#a65fccc1157873ede654aa52a4d9d1c55">isProper</a>()) {</div>
<div class="line">      host = url.getHost() + <a class="code" href="class_string.html">String</a>(<span class="stringliteral">&quot;:&quot;</span>) + port;  </div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">      host = url.getHost();</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    HypertextTransferProtocolClient client(host, endPoint); <span class="comment">// FIXME: include port number if present</span></div>
<div class="line">    client.connect();</div>
<div class="line">    client.getOptions();</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">if</span> (filename.<a class="code" href="class_string.html#a65fccc1157873ede654aa52a4d9d1c55">isProper</a>()) {</div>
<div class="line">      PushToFile push(<a class="code" href="class_file.html">File</a>(filename, <a name="a55"></a><a class="code" href="class_file.html#adb1db6815e6eeb9b39c76da4a541ae18a20233714769e48aa46a386c3fd8e84d7">File::WRITE</a>, <a name="a56"></a><a class="code" href="class_file.html#a335979c8b00259c29ac1a2784cb4dfd4ae98c4bc1eaf89a65baa406458c743382">File::CREATE</a> | <a name="a57"></a><a class="code" href="class_file.html#a335979c8b00259c29ac1a2784cb4dfd4a646ec9705a761ff7e96b6c4f78720ba5">File::TRUNCATE</a>));</div>
<div class="line">      client.getResource(<span class="stringliteral">&quot;/&quot;</span> + url.getPath(), &amp;push);</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">      PushToStandardOutput push;</div>
<div class="line">      client.getResource(<span class="stringliteral">&quot;/&quot;</span> + url.getPath(), &amp;push);</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>HTTPApplication : <span class="keyword">public</span> <a name="_a58"></a><a class="code" href="class_application.html">Application</a> {</div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> MAJOR_VERSION = 1;</div>
<div class="line">  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> MINOR_VERSION = 0;</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">  </div>
<div class="line">  HTTPApplication()</div>
<div class="line">    : <a class="code" href="class_application.html">Application</a>(<span class="stringliteral">&quot;http&quot;</span>)</div>
<div class="line">  {</div>
<div class="line">  }</div>
<div class="line">  </div>
<div class="line">  <span class="keywordtype">void</span> main()</div>
<div class="line">  {</div>
<div class="line">    fout &lt;&lt; getFormalName() &lt;&lt; <span class="stringliteral">&quot; version &quot;</span></div>
<div class="line">         &lt;&lt; MAJOR_VERSION &lt;&lt; <span class="charliteral">&#39;.&#39;</span> &lt;&lt; MINOR_VERSION &lt;&lt; EOL</div>
<div class="line">         &lt;&lt; <span class="stringliteral">&quot;The Base Framework (Test Suite)&quot;</span> &lt;&lt; EOL</div>
<div class="line">         &lt;&lt; ENDL;</div>
<div class="line">    </div>
<div class="line">    <a name="_a59"></a><a class="code" href="class_array.html">Array&lt;String&gt;</a> arguments = getArguments();</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="class_string.html">String</a> url = MESSAGE(<span class="stringliteral">&quot;www.google.com/&quot;</span>); <span class="comment">// default url</span></div>
<div class="line">    <a class="code" href="class_string.html">String</a> file; <span class="comment">// default file</span></div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">switch</span> (arguments.<a name="a60"></a><a class="code" href="class_array.html#a137f2cae7d1ade1316b2a0d10ffaccde">getSize</a>()) {</div>
<div class="line">    <span class="keywordflow">case</span> 0:</div>
<div class="line">      <span class="comment">// use defaults</span></div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> 1:</div>
<div class="line">      url = arguments[0]; <span class="comment">// the address</span></div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> 2:</div>
<div class="line">      url = arguments[0]; <span class="comment">// the address</span></div>
<div class="line">      file = arguments[1]; <span class="comment">// the service</span></div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">default</span>:</div>
<div class="line">      fout &lt;&lt; <span class="stringliteral">&quot;Usage: &quot;</span> &lt;&lt; getFormalName() &lt;&lt; <span class="stringliteral">&quot; [url] [output]&quot;</span> &lt;&lt; ENDL;</div>
<div class="line">      setExitCode(<a name="a61"></a><a class="code" href="class_application.html#a424e991058669da73258a7852c5c60c8ac49a8608f05c4216dd8b525f9b7af726">Application::EXIT_CODE_ERROR</a>);</div>
<div class="line">      <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line">    HTTPClient client(url, file);</div>
<div class="line">  }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line">APPLICATION_STUB(HTTPApplication);</div>
</div><!-- fragment --> </div><!-- contents -->
<div class="ttc" id="aclass_a_s_c_i_i_traits_html_a1a63f1408e086cb6b255931e83c0ef8d"><div class="ttname"><a href="class_a_s_c_i_i_traits.html#a1a63f1408e086cb6b255931e83c0ef8d">ASCIITraits::isGraph</a></div><div class="ttdeci">static bool isGraph(char value) noexcept</div><div class="ttdef"><b>Definition:</b> ASCIITraits.h:212</div></div>
<div class="ttc" id="aclass_h_t_t_p_exception_html"><div class="ttname"><a href="class_h_t_t_p_exception.html">HTTPException</a></div><div class="ttdef"><b>Definition:</b> HTTPSRequest.h:31</div></div>
<div class="ttc" id="aclass_file_html_aa36123e54912bf16e4e0ee700519f98a"><div class="ttname"><a href="class_file.html#aa36123e54912bf16e4e0ee700519f98a">File::write</a></div><div class="ttdeci">unsigned int write(const uint8 *buffer, unsigned int size, bool nonblocking=false)</div></div>
<div class="ttc" id="aclass_inet_end_point_html"><div class="ttname"><a href="class_inet_end_point.html">InetEndPoint</a></div><div class="ttdoc">Internet end point.</div><div class="ttdef"><b>Definition:</b> InetEndPoint.h:30</div></div>
<div class="ttc" id="aclass_i_o_exception_html"><div class="ttname"><a href="class_i_o_exception.html">IOException</a></div><div class="ttdoc">IO exception.</div><div class="ttdef"><b>Definition:</b> IOException.h:32</div></div>
<div class="ttc" id="aclass_stream_socket_html_a01819dfd9af1e02e66251e0b3a846b9c"><div class="ttname"><a href="class_stream_socket.html#a01819dfd9af1e02e66251e0b3a846b9c">StreamSocket::getName</a></div><div class="ttdeci">void getName()</div><div class="ttdef"><b>Definition:</b> StreamSocket.h:147</div></div>
<div class="ttc" id="aclass_list_html_a696406735a0196e8e0d090e2d1d72fc6"><div class="ttname"><a href="class_list.html#a696406735a0196e8e0d090e2d1d72fc6">List::getReadEnumerator</a></div><div class="ttdeci">ReadEnumerator getReadEnumerator() const noexcept</div><div class="ttdef"><b>Definition:</b> List.h:618</div></div>
<div class="ttc" id="aclass_pull_interface_html"><div class="ttname"><a href="class_pull_interface.html">PullInterface</a></div><div class="ttdoc">Pull interface.</div><div class="ttdef"><b>Definition:</b> PullInterface.h:29</div></div>
<div class="ttc" id="aclass_push_interface_html_a9c1e62e52fd979bd14586b50336402f4"><div class="ttname"><a href="class_push_interface.html#a9c1e62e52fd979bd14586b50336402f4">PushInterface::pushEnd</a></div><div class="ttdeci">virtual void pushEnd()</div></div>
<div class="ttc" id="aclass_string_html_a65fccc1157873ede654aa52a4d9d1c55"><div class="ttname"><a href="class_string.html#a65fccc1157873ede654aa52a4d9d1c55">String::isProper</a></div><div class="ttdeci">bool isProper() const noexcept</div><div class="ttdef"><b>Definition:</b> String.h:483</div></div>
<div class="ttc" id="aclass_stream_socket_html_a1865861519ed84748e4263954e665f5f"><div class="ttname"><a href="class_stream_socket.html#a1865861519ed84748e4263954e665f5f">StreamSocket::available</a></div><div class="ttdeci">unsigned int available() const</div><div class="ttdef"><b>Definition:</b> StreamSocket.h:352</div></div>
<div class="ttc" id="aclass_push_interface_html"><div class="ttname"><a href="class_push_interface.html">PushInterface</a></div><div class="ttdoc">Push interface.</div><div class="ttdef"><b>Definition:</b> PushInterface.h:29</div></div>
<div class="ttc" id="aclass_stream_socket_html_af0bbecc96f41e4dd13fcb993647350bf"><div class="ttname"><a href="class_stream_socket.html#af0bbecc96f41e4dd13fcb993647350bf">StreamSocket::close</a></div><div class="ttdeci">void close()</div><div class="ttdef"><b>Definition:</b> StreamSocket.h:116</div></div>
<div class="ttc" id="aclass_a_s_c_i_i_traits_html_a1df3744ed0d8f450cebb08cc47920887"><div class="ttname"><a href="class_a_s_c_i_i_traits.html#a1df3744ed0d8f450cebb08cc47920887">ASCIITraits::isDigit</a></div><div class="ttdeci">static bool isDigit(char value) noexcept</div><div class="ttdef"><b>Definition:</b> ASCIITraits.h:152</div></div>
<div class="ttc" id="aclass_double_linked_node_read_enumerator_html"><div class="ttname"><a href="class_double_linked_node_read_enumerator.html">DoubleLinkedNodeReadEnumerator</a></div><div class="ttdoc">Non-modifying enumerator of DoubleLinkedNode.</div><div class="ttdef"><b>Definition:</b> DoubleLinkedNode.h:607</div></div>
<div class="ttc" id="aclass_stream_socket_html_a6e0aea719fe3e57d2ef4629d5a0c1fce"><div class="ttname"><a href="class_stream_socket.html#a6e0aea719fe3e57d2ef4629d5a0c1fce">StreamSocket::connect</a></div><div class="ttdeci">void connect(const InetAddress &amp;address, unsigned short port)</div><div class="ttdef"><b>Definition:</b> StreamSocket.h:127</div></div>
<div class="ttc" id="aclass_allocator_html"><div class="ttname"><a href="class_allocator.html">Allocator&lt; uint8 &gt;</a></div></div>
<div class="ttc" id="aclass_inet_address_html_a252f40425847bf9d1fb8d24ab5bfa3b8"><div class="ttname"><a href="class_inet_address.html#a252f40425847bf9d1fb8d24ab5bfa3b8">InetAddress::getAddressesByName</a></div><div class="ttdeci">static List&lt; InetAddress &gt; getAddressesByName(const String &amp;name)</div></div>
<div class="ttc" id="aclass_format_output_stream_html"><div class="ttname"><a href="class_format_output_stream.html">FormatOutputStream</a></div><div class="ttdoc">Format output stream.</div><div class="ttdef"><b>Definition:</b> FormatOutputStream.h:105</div></div>
<div class="ttc" id="aclass_string_html_a329ec306ac33605383654cd9c1040709"><div class="ttname"><a href="class_string.html#a329ec306ac33605383654cd9c1040709">String::getEndReadIterator</a></div><div class="ttdeci">ReadIterator getEndReadIterator() const noexcept</div><div class="ttdef"><b>Definition:</b> String.h:562</div></div>
<div class="ttc" id="aclass_string_html_aaa820ec17b415ebcb14a57b9b19f3740"><div class="ttname"><a href="class_string.html#aaa820ec17b415ebcb14a57b9b19f3740">String::substring</a></div><div class="ttdeci">String substring(MemorySize start, MemorySize end) const</div></div>
<div class="ttc" id="aclass_literal_html"><div class="ttname"><a href="class_literal.html">Literal</a></div><div class="ttdoc">A string literal.</div><div class="ttdef"><b>Definition:</b> Literal.h:28</div></div>
<div class="ttc" id="aclass_inet_end_point_html_aa19ef1f6be976a00e13b544d89c3ba6a"><div class="ttname"><a href="class_inet_end_point.html#aa19ef1f6be976a00e13b544d89c3ba6a">InetEndPoint::getAddress</a></div><div class="ttdeci">const InetAddress &amp; getAddress() const noexcept</div><div class="ttdef"><b>Definition:</b> InetEndPoint.h:119</div></div>
<div class="ttc" id="aclass_string_html_a304007fdfcd2acdae2f0b56217ae920c"><div class="ttname"><a href="class_string.html#a304007fdfcd2acdae2f0b56217ae920c">String::getBeginReadIterator</a></div><div class="ttdeci">ReadIterator getBeginReadIterator() const noexcept</div><div class="ttdef"><b>Definition:</b> String.h:554</div></div>
<div class="ttc" id="aclass_stream_socket_html"><div class="ttname"><a href="class_stream_socket.html">StreamSocket</a></div><div class="ttdoc">Stream socket.</div><div class="ttdef"><b>Definition:</b> StreamSocket.h:33</div></div>
<div class="ttc" id="aclass_char_traits_html_a8ee60714fc024775be5568d3756f8b89"><div class="ttname"><a href="class_char_traits.html#a8ee60714fc024775be5568d3756f8b89">CharTraits::isASCII</a></div><div class="ttdeci">static bool isASCII(char character) noexcept</div><div class="ttdef"><b>Definition:</b> String.h:51</div></div>
<div class="ttc" id="aclass_url_html"><div class="ttname"><a href="class_url.html">Url</a></div><div class="ttdoc">Uniform Resource Locator (URL)</div><div class="ttdef"><b>Definition:</b> Url.h:38</div></div>
<div class="ttc" id="aclass_file_html"><div class="ttname"><a href="class_file.html">File</a></div><div class="ttdoc">File.</div><div class="ttdef"><b>Definition:</b> File.h:37</div></div>
<div class="ttc" id="aclass_a_s_c_i_i_traits_html_a994cbf87b1b86182be7e4675f342dc9f"><div class="ttname"><a href="class_a_s_c_i_i_traits.html#a994cbf87b1b86182be7e4675f342dc9f">ASCIITraits::isASCII</a></div><div class="ttdeci">static bool isASCII(char value) noexcept</div><div class="ttdef"><b>Definition:</b> ASCIITraits.h:230</div></div>
<div class="ttc" id="aclass_a_s_c_i_i_traits_html_a6f28ce156ee53ef72ce671c01b18fa27"><div class="ttname"><a href="class_a_s_c_i_i_traits.html#a6f28ce156ee53ef72ce671c01b18fa27">ASCIITraits::isHexDigit</a></div><div class="ttdeci">static bool isHexDigit(char value) noexcept</div><div class="ttdef"><b>Definition:</b> ASCIITraits.h:185</div></div>
<div class="ttc" id="aclass_unsigned_integer_html"><div class="ttname"><a href="class_unsigned_integer.html">UnsignedInteger</a></div><div class="ttdoc">Unsigned integer.</div><div class="ttdef"><b>Definition:</b> UnsignedInteger.h:30</div></div>
<div class="ttc" id="aclass_string_html"><div class="ttname"><a href="class_string.html">String</a></div><div class="ttdoc">String.</div><div class="ttdef"><b>Definition:</b> String.h:101</div></div>
<div class="ttc" id="aclass_stream_socket_html_a1e68b1fb2f1bcdc7473c004d1f38e202"><div class="ttname"><a href="class_stream_socket.html#a1e68b1fb2f1bcdc7473c004d1f38e202">StreamSocket::shutdownOutputStream</a></div><div class="ttdeci">void shutdownOutputStream()</div><div class="ttdef"><b>Definition:</b> StreamSocket.h:211</div></div>
<div class="ttc" id="aclass_file_html_a335979c8b00259c29ac1a2784cb4dfd4a646ec9705a761ff7e96b6c4f78720ba5"><div class="ttname"><a href="class_file.html#a335979c8b00259c29ac1a2784cb4dfd4a646ec9705a761ff7e96b6c4f78720ba5">File::TRUNCATE</a></div><div class="ttdeci">@ TRUNCATE</div><div class="ttdef"><b>Definition:</b> File.h:68</div></div>
<div class="ttc" id="aclass_allocator_html_a813f826a7bcf0ab06e9dafa5cc0730f4"><div class="ttname"><a href="class_allocator.html#a813f826a7bcf0ab06e9dafa5cc0730f4">Allocator::getSize</a></div><div class="ttdeci">MemorySize getSize() const noexcept</div><div class="ttdef"><b>Definition:</b> Allocator.h:533</div></div>
<div class="ttc" id="aclass_string_output_stream_html"><div class="ttname"><a href="class_string_output_stream.html">StringOutputStream</a></div><div class="ttdoc">String output stream.</div><div class="ttdef"><b>Definition:</b> StringOutputStream.h:86</div></div>
<div class="ttc" id="aclass_string_html_ab31a36bda8c789ba3c0ed37bb16c978c"><div class="ttname"><a href="class_string.html#ab31a36bda8c789ba3c0ed37bb16c978c">String::isEmpty</a></div><div class="ttdeci">bool isEmpty() const noexcept</div><div class="ttdef"><b>Definition:</b> String.h:475</div></div>
<div class="ttc" id="aclass_a_s_c_i_i_traits_html_ad377ef14bade6b70952262afa56c9cbe"><div class="ttname"><a href="class_a_s_c_i_i_traits.html#ad377ef14bade6b70952262afa56c9cbe">ASCIITraits::digitToValue</a></div><div class="ttdeci">static unsigned char digitToValue(char value) noexcept</div><div class="ttdef"><b>Definition:</b> ASCIITraits.h:241</div></div>
<div class="ttc" id="aclass_inet_end_point_html_aa99ae24dc2401d68c213a83e9d597556"><div class="ttname"><a href="class_inet_end_point.html#aa99ae24dc2401d68c213a83e9d597556">InetEndPoint::getPort</a></div><div class="ttdeci">unsigned short getPort() const noexcept</div><div class="ttdef"><b>Definition:</b> InetEndPoint.h:127</div></div>
<div class="ttc" id="aclass_array_html_a137f2cae7d1ade1316b2a0d10ffaccde"><div class="ttname"><a href="class_array.html#a137f2cae7d1ade1316b2a0d10ffaccde">Array::getSize</a></div><div class="ttdeci">MemorySize getSize() const noexcept</div><div class="ttdef"><b>Definition:</b> Array.h:339</div></div>
<div class="ttc" id="aclass_a_s_c_i_i_traits_html_afeb4bada6cdca54bfa2378cbeac630e4"><div class="ttname"><a href="class_a_s_c_i_i_traits.html#afeb4bada6cdca54bfa2378cbeac630e4">ASCIITraits::isControl</a></div><div class="ttdeci">static bool isControl(char value) noexcept</div><div class="ttdef"><b>Definition:</b> ASCIITraits.h:221</div></div>
<div class="ttc" id="aclass_format_input_stream_html"><div class="ttname"><a href="class_format_input_stream.html">FormatInputStream</a></div><div class="ttdoc">Reader of formatted input.</div><div class="ttdef"><b>Definition:</b> FormatInputStream.h:32</div></div>
<div class="ttc" id="aclass_object_html"><div class="ttname"><a href="class_object.html">Object</a></div><div class="ttdoc">Object.</div><div class="ttdef"><b>Definition:</b> Object.h:28</div></div>
<div class="ttc" id="aclass_double_linked_node_read_enumerator_html_a7394eb7fd5e6776e56931ada238bf480"><div class="ttname"><a href="class_double_linked_node_read_enumerator.html#a7394eb7fd5e6776e56931ada238bf480">DoubleLinkedNodeReadEnumerator::next</a></div><div class="ttdeci">Reference next()</div><div class="ttdef"><b>Definition:</b> DoubleLinkedNode.h:648</div></div>
<div class="ttc" id="aclass_invalid_format_html"><div class="ttname"><a href="class_invalid_format.html">InvalidFormat</a></div><div class="ttdoc">Invalid formation exception.</div><div class="ttdef"><b>Definition:</b> InvalidFormat.h:29</div></div>
<div class="ttc" id="aclass_double_linked_node_read_enumerator_html_af224dec383bf510a7074b8572c3add78"><div class="ttname"><a href="class_double_linked_node_read_enumerator.html#af224dec383bf510a7074b8572c3add78">DoubleLinkedNodeReadEnumerator::hasNext</a></div><div class="ttdeci">bool hasNext() const noexcept</div><div class="ttdef"><b>Definition:</b> DoubleLinkedNode.h:640</div></div>
<div class="ttc" id="aclass_allocator_html_abbfd194591389976896abc85ce1f1872"><div class="ttname"><a href="class_allocator.html#abbfd194591389976896abc85ce1f1872">Allocator::getElements</a></div><div class="ttdeci">TYPE * getElements() noexcept</div><div class="ttdef"><b>Definition:</b> Allocator.h:427</div></div>
<div class="ttc" id="aclass_application_html"><div class="ttname"><a href="class_application.html">Application</a></div><div class="ttdoc">Application.</div><div class="ttdef"><b>Definition:</b> Application.h:53</div></div>
<div class="ttc" id="aclass_string_output_stream_html_a5961bae1abf412a65744385e536cc029"><div class="ttname"><a href="class_string_output_stream.html#a5961bae1abf412a65744385e536cc029">StringOutputStream::getString</a></div><div class="ttdeci">const String &amp; getString() const</div></div>
<div class="ttc" id="aclass_file_html_a335979c8b00259c29ac1a2784cb4dfd4ae98c4bc1eaf89a65baa406458c743382"><div class="ttname"><a href="class_file.html#a335979c8b00259c29ac1a2784cb4dfd4ae98c4bc1eaf89a65baa406458c743382">File::CREATE</a></div><div class="ttdeci">@ CREATE</div><div class="ttdef"><b>Definition:</b> File.h:67</div></div>
<div class="ttc" id="aclass_list_html"><div class="ttname"><a href="class_list.html">List</a></div><div class="ttdoc">List collection.</div><div class="ttdef"><b>Definition:</b> List.h:45</div></div>
<div class="ttc" id="aclass_stream_socket_html_ae2359c3570860e8b8467d4e8e316f109"><div class="ttname"><a href="class_stream_socket.html#ae2359c3570860e8b8467d4e8e316f109">StreamSocket::wait</a></div><div class="ttdeci">void wait() const</div><div class="ttdef"><b>Definition:</b> StreamSocket.h:391</div></div>
<div class="ttc" id="aclass_timer_html_a19375c7e1d21fb6bdca3bbfa4cb2ff6a"><div class="ttname"><a href="class_timer.html#a19375c7e1d21fb6bdca3bbfa4cb2ff6a">Timer::start</a></div><div class="ttdeci">void start() noexcept</div><div class="ttdef"><b>Definition:</b> Timer.h:285</div></div>
<div class="ttc" id="aclass_timer_html"><div class="ttname"><a href="class_timer.html">Timer</a></div><div class="ttdoc">Timer.</div><div class="ttdef"><b>Definition:</b> Timer.h:27</div></div>
<div class="ttc" id="aclass_file_html_a83cbce54d6c3b8c2f417b51f6b3f488c"><div class="ttname"><a href="class_file.html#a83cbce54d6c3b8c2f417b51f6b3f488c">File::close</a></div><div class="ttdeci">void close()</div></div>
<div class="ttc" id="aclass_array_html"><div class="ttname"><a href="class_array.html">Array&lt; String &gt;</a></div></div>
<div class="ttc" id="aclass_application_html_a424e991058669da73258a7852c5c60c8ac49a8608f05c4216dd8b525f9b7af726"><div class="ttname"><a href="class_application.html#a424e991058669da73258a7852c5c60c8ac49a8608f05c4216dd8b525f9b7af726">Application::EXIT_CODE_ERROR</a></div><div class="ttdeci">@ EXIT_CODE_ERROR</div><div class="ttdef"><b>Definition:</b> Application.h:77</div></div>
<div class="ttc" id="aclass_inet_address_html"><div class="ttname"><a href="class_inet_address.html">InetAddress</a></div><div class="ttdoc">Internet Protocol address.</div><div class="ttdef"><b>Definition:</b> InetAddress.h:38</div></div>
<div class="ttc" id="aclass_timer_html_ab82c0b645c7b797b2a970812dc3617e3"><div class="ttname"><a href="class_timer.html#ab82c0b645c7b797b2a970812dc3617e3">Timer::getLiveMicroseconds</a></div><div class="ttdeci">uint64 getLiveMicroseconds() const noexcept</div><div class="ttdef"><b>Definition:</b> Timer.h:325</div></div>
<div class="ttc" id="aclass_file_html_adb1db6815e6eeb9b39c76da4a541ae18a20233714769e48aa46a386c3fd8e84d7"><div class="ttname"><a href="class_file.html#adb1db6815e6eeb9b39c76da4a541ae18a20233714769e48aa46a386c3fd8e84d7">File::WRITE</a></div><div class="ttdeci">@ WRITE</div><div class="ttdef"><b>Definition:</b> File.h:65</div></div>
<div class="ttc" id="aclass_push_interface_html_a938e5de881940780738c4ae8cf0e878c"><div class="ttname"><a href="class_push_interface.html#a938e5de881940780738c4ae8cf0e878c">PushInterface::push</a></div><div class="ttdeci">virtual MemorySize push(const uint8 *buffer, MemorySize size)=0</div></div>
<!-- HTML footer for doxygen 1.8.17-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"></address>
</body>
</html>
