<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Base Framework: testsuite/digest.cpp</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Base Framework
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">testsuite/digest.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><span class="comment">/***************************************************************************</span></div>
<div class="line"><span class="comment">    The Base Framework</span></div>
<div class="line"><span class="comment">    A framework for developing platform independent applications</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">    See COPYRIGHT.txt for details.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">    This framework is distributed in the hope that it will be useful,</span></div>
<div class="line"><span class="comment">    but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><span class="comment">    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">    For the licensing terms refer to the file &#39;LICENSE&#39;.</span></div>
<div class="line"><span class="comment"> ***************************************************************************/</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;base/io/FileInputStream.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;base/io/FileReader.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;base/filesystem/FileSystem.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;base/filesystem/FolderInfo.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;base/string/FormatOutputStream.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;base/Application.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;base/security/Adler32.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;base/security/CRC32.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;base/security/MD5Sum.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;base/security/SHA1.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;base/security/SHA256.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;base/security/SHA384.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;base/security/SHA512.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">using namespace </span>com::azure::dev::base;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>DigestApplication : <span class="keyword">public</span> <a name="_a0"></a><a class="code" href="class_application.html">Application</a> {</div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> MAJOR_VERSION = 1;</div>
<div class="line">  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> MINOR_VERSION = 0;</div>
<div class="line">  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> BLOCK_SIZE = 4096 * 4;</div>
<div class="line">  </div>
<div class="line">  uint8 buffer[BLOCK_SIZE];</div>
<div class="line">  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> job = 0;</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">  </div>
<div class="line">  <span class="keyword">class </span>Job {</div>
<div class="line">  <span class="keyword">public</span>:</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">enum</span> {</div>
<div class="line">      ADLER32,</div>
<div class="line">      <a name="_a1"></a><a class="code" href="class_c_r_c32.html">CRC32</a>,</div>
<div class="line">      MD5SUM,</div>
<div class="line">      <a name="_a2"></a><a class="code" href="class_s_h_a1.html">SHA1</a>,</div>
<div class="line">      <a name="_a3"></a><a class="code" href="class_s_h_a256.html">SHA256</a>,</div>
<div class="line">      <a name="_a4"></a><a class="code" href="class_s_h_a384.html">SHA384</a>,</div>
<div class="line">      <a name="_a5"></a><a class="code" href="class_s_h_a512.html">SHA512</a></div>
<div class="line">    };</div>
<div class="line">  };</div>
<div class="line">  </div>
<div class="line">  DigestApplication()</div>
<div class="line">    : <a class="code" href="class_application.html">Application</a>(<span class="stringliteral">&quot;digest&quot;</span>)</div>
<div class="line">  {</div>
<div class="line">    job = Job::SHA1;</div>
<div class="line">  }  </div>
<div class="line">  </div>
<div class="line">  <span class="keywordtype">void</span> jobAdler32(<span class="keyword">const</span> <a name="_a6"></a><a class="code" href="class_string.html">String</a>&amp; path) {</div>
<div class="line">    <a name="_a7"></a><a class="code" href="class_file_input_stream.html">FileInputStream</a> file(path, 0);</div>
<div class="line">    </div>
<div class="line">    <a name="_a8"></a><a class="code" href="class_adler32.html">Adler32</a> sum;</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> count = 0;</div>
<div class="line">    <span class="keywordflow">while</span> ((count = file.<a name="a9"></a><a class="code" href="class_file_input_stream.html#a1dabd536a3a043f8e0391dfe0fed5a1d">read</a>(buffer, <span class="keyword">sizeof</span>(buffer), <span class="keyword">true</span>)) &gt; 0) {</div>
<div class="line">      sum.<a name="a10"></a><a class="code" href="class_adler32.html#aebe0bd8aed92381c8cfdaf9de38d49d8">push</a>(buffer, count);</div>
<div class="line">    }</div>
<div class="line">    sum.<a name="a11"></a><a class="code" href="class_push_interface.html#a9c1e62e52fd979bd14586b50336402f4">pushEnd</a>();</div>
<div class="line">    </div>
<div class="line">    fout &lt;&lt; HEX &lt;&lt; setWidth(8) &lt;&lt; NOPREFIX &lt;&lt; ZEROPAD &lt;&lt; sum.<a name="a12"></a><a class="code" href="class_adler32.html#afabb942ec98cdee19dbe96ff2eba2ea9">getValue</a>()</div>
<div class="line">         &lt;&lt; indent(2) &lt;&lt; path &lt;&lt; ENDL;</div>
<div class="line">  }</div>
<div class="line">  </div>
<div class="line">  <span class="keywordtype">void</span> jobCRC32(<span class="keyword">const</span> <a class="code" href="class_string.html">String</a>&amp; path) {</div>
<div class="line">    <a class="code" href="class_file_input_stream.html">FileInputStream</a> file(path, 0);</div>
<div class="line">    </div>
<div class="line">    <a class="code" href="class_c_r_c32.html">CRC32</a> sum;</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> count = 0;</div>
<div class="line">    <span class="keywordflow">while</span> ((count = file.<a class="code" href="class_file_input_stream.html#a1dabd536a3a043f8e0391dfe0fed5a1d">read</a>(buffer, <span class="keyword">sizeof</span>(buffer), <span class="keyword">true</span>)) &gt; 0) {</div>
<div class="line">      sum.<a name="a13"></a><a class="code" href="class_c_r_c32.html#a8e1d4677020c3155e6ab88880311ea33">push</a>(buffer, count);</div>
<div class="line">    }</div>
<div class="line">    sum.<a name="a14"></a><a class="code" href="class_c_r_c32.html#a98dbbaf0f066811071a3a744947fdc5f">pushEnd</a>();</div>
<div class="line">    </div>
<div class="line">    fout &lt;&lt; HEX &lt;&lt; setWidth(8) &lt;&lt; NOPREFIX &lt;&lt; ZEROPAD &lt;&lt; sum.<a name="a15"></a><a class="code" href="class_c_r_c32.html#a90a9c7b340df70fa3c549d86c653a54d">getValue</a>()</div>
<div class="line">         &lt;&lt; indent(2) &lt;&lt; path &lt;&lt; ENDL;</div>
<div class="line">  }</div>
<div class="line">  </div>
<div class="line">  <span class="keywordtype">void</span> jobMD5Sum(<span class="keyword">const</span> <a class="code" href="class_string.html">String</a>&amp; path) {</div>
<div class="line">    <a class="code" href="class_file_input_stream.html">FileInputStream</a> file(path, 0);</div>
<div class="line">    </div>
<div class="line">    <a name="_a16"></a><a class="code" href="class_m_d5_sum.html">MD5Sum</a> sum;</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> count = 0;</div>
<div class="line">    <span class="keywordflow">while</span> ((count = file.<a class="code" href="class_file_input_stream.html#a1dabd536a3a043f8e0391dfe0fed5a1d">read</a>(buffer, <span class="keyword">sizeof</span>(buffer), <span class="keyword">true</span>)) &gt; 0) {</div>
<div class="line">      sum.<a name="a17"></a><a class="code" href="class_m_d5_sum.html#a21fe590d3673e600d652cd135e4b63d9">push</a>(buffer, count);</div>
<div class="line">    }</div>
<div class="line">    sum.<a name="a18"></a><a class="code" href="class_m_d5_sum.html#af2248adca7e382a913fb551a19e70a2b">pushEnd</a>();</div>
<div class="line">    </div>
<div class="line">    fout &lt;&lt; sum.<a name="a19"></a><a class="code" href="class_m_d5_sum.html#ad9253c330e1dab99122b733fbf94ec9c">getValue</a>() &lt;&lt; indent(2) &lt;&lt; path &lt;&lt; ENDL;</div>
<div class="line">  }</div>
<div class="line">  </div>
<div class="line">  <span class="keywordtype">void</span> jobSHA1(<span class="keyword">const</span> <a class="code" href="class_string.html">String</a>&amp; path) {</div>
<div class="line">    <a class="code" href="class_file_input_stream.html">FileInputStream</a> file(path, 0);</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="class_s_h_a1.html">SHA1</a> sum;</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> count = 0;</div>
<div class="line">    <span class="keywordflow">while</span> ((count = file.<a class="code" href="class_file_input_stream.html#a1dabd536a3a043f8e0391dfe0fed5a1d">read</a>(buffer, <span class="keyword">sizeof</span>(buffer), <span class="keyword">true</span>)) &gt; 0) {</div>
<div class="line">      sum.<a name="a20"></a><a class="code" href="class_s_h_a1.html#a490bb399dba1de9db5a45342833009c4">push</a>(buffer, count);</div>
<div class="line">    }</div>
<div class="line">    sum.<a name="a21"></a><a class="code" href="class_s_h_a1.html#ae882e7e0a21d97e723d8752fdfcb3d41">pushEnd</a>();</div>
<div class="line"> </div>
<div class="line">    fout &lt;&lt; sum.<a name="a22"></a><a class="code" href="class_s_h_a1.html#a5721702044ce50f6b9495f261684f371">getValue</a>() &lt;&lt; indent(2) &lt;&lt; path &lt;&lt; ENDL;</div>
<div class="line">  }</div>
<div class="line">  </div>
<div class="line">  <span class="keywordtype">void</span> jobSHA256(<span class="keyword">const</span> <a class="code" href="class_string.html">String</a>&amp; path) {</div>
<div class="line">    <a class="code" href="class_file_input_stream.html">FileInputStream</a> file(path, 0);</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="class_s_h_a256.html">SHA256</a> sum;</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> count = 0;</div>
<div class="line">    <span class="keywordflow">while</span> ((count = file.<a class="code" href="class_file_input_stream.html#a1dabd536a3a043f8e0391dfe0fed5a1d">read</a>(buffer, <span class="keyword">sizeof</span>(buffer), <span class="keyword">true</span>)) &gt; 0) {</div>
<div class="line">      sum.<a name="a23"></a><a class="code" href="class_s_h_a256.html#a76725e3845159484afb2f38a5368f736">push</a>(buffer, count);</div>
<div class="line">    }</div>
<div class="line">    sum.<a name="a24"></a><a class="code" href="class_s_h_a256.html#a9c7e2699562e83cefad0a14d1e136b0d">pushEnd</a>();</div>
<div class="line">    </div>
<div class="line">    fout &lt;&lt; sum.<a name="a25"></a><a class="code" href="class_s_h_a256.html#af368418e1a16c1a07aa8321d9772879c">getValue</a>() &lt;&lt; indent(2) &lt;&lt; path &lt;&lt; ENDL;</div>
<div class="line">  }</div>
<div class="line">  </div>
<div class="line">  <span class="keywordtype">void</span> jobSHA384(<span class="keyword">const</span> <a class="code" href="class_string.html">String</a>&amp; path) {</div>
<div class="line">    <a class="code" href="class_file_input_stream.html">FileInputStream</a> file(path, 0);</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="class_s_h_a384.html">SHA384</a> sum;</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> count = 0;</div>
<div class="line">    <span class="keywordflow">while</span> ((count = file.<a class="code" href="class_file_input_stream.html#a1dabd536a3a043f8e0391dfe0fed5a1d">read</a>(buffer, <span class="keyword">sizeof</span>(buffer), <span class="keyword">true</span>)) &gt; 0) {</div>
<div class="line">      sum.<a name="a26"></a><a class="code" href="class_s_h_a384.html#a07f54e5f0d355a4db5acaf69e031e319">push</a>(buffer, count);</div>
<div class="line">    }</div>
<div class="line">    sum.<a name="a27"></a><a class="code" href="class_s_h_a384.html#a1d4ffecbad744ed52fc23e019d43fa84">pushEnd</a>();</div>
<div class="line">    </div>
<div class="line">    fout &lt;&lt; sum.<a name="a28"></a><a class="code" href="class_s_h_a384.html#a094bb76feba5a9a2df1c1decfeb97d09">getValue</a>() &lt;&lt; indent(2) &lt;&lt; path &lt;&lt; ENDL;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="keywordtype">void</span> jobSHA512(<span class="keyword">const</span> <a class="code" href="class_string.html">String</a>&amp; path) {</div>
<div class="line">    <a class="code" href="class_file_input_stream.html">FileInputStream</a> file(path, 0);</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="class_s_h_a512.html">SHA512</a> sum;</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> count = 0;</div>
<div class="line">    <span class="keywordflow">while</span> ((count = file.<a class="code" href="class_file_input_stream.html#a1dabd536a3a043f8e0391dfe0fed5a1d">read</a>(buffer, <span class="keyword">sizeof</span>(buffer), <span class="keyword">true</span>)) &gt; 0) {</div>
<div class="line">      sum.<a name="a29"></a><a class="code" href="class_s_h_a512.html#aa9b8101e9f75165b63b36de83b29a367">push</a>(buffer, count);</div>
<div class="line">    }</div>
<div class="line">    sum.<a name="a30"></a><a class="code" href="class_s_h_a512.html#a7d98fefb82a9a575d7ee8073438bbded">pushEnd</a>();</div>
<div class="line">    </div>
<div class="line">    fout &lt;&lt; sum.<a name="a31"></a><a class="code" href="class_s_h_a512.html#a8656443fc688f5181812df8784bdfd77">getValue</a>() &lt;&lt; indent(2) &lt;&lt; path &lt;&lt; ENDL;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="keywordtype">void</span> fileDigest(<span class="keyword">const</span> <a class="code" href="class_string.html">String</a>&amp; path) {</div>
<div class="line">    <span class="keywordflow">switch</span> (job) {</div>
<div class="line">    <span class="keywordflow">case</span> Job::ADLER32:</div>
<div class="line">      jobAdler32(path);</div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> Job::CRC32:</div>
<div class="line">      jobCRC32(path);</div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> Job::MD5SUM:</div>
<div class="line">      jobMD5Sum(path);</div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> Job::SHA1:</div>
<div class="line">      jobSHA1(path);</div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> Job::SHA256:</div>
<div class="line">      jobSHA256(path);</div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> Job::SHA384:</div>
<div class="line">      jobSHA384(path);</div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> Job::SHA512:</div>
<div class="line">      jobSHA512(path);</div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  </div>
<div class="line">  <span class="keywordtype">void</span> digest(<span class="keyword">const</span> <a class="code" href="class_string.html">String</a>&amp; path)</div>
<div class="line">  {</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> type = 0;</div>
<div class="line">    <span class="keywordflow">try</span> {</div>
<div class="line">      type = <a name="a32"></a><a class="code" href="class_file_system.html#af32ca0652ee6e091df124cca322ea34b">FileSystem::getType</a>(path);</div>
<div class="line">    } <span class="keywordflow">catch</span> (<a name="_a33"></a><a class="code" href="class_file_system_exception.html">FileSystemException</a>&amp;) {</div>
<div class="line">      ferr &lt;&lt; <span class="stringliteral">&quot;Error: &quot;</span> &lt;&lt; <span class="stringliteral">&quot;File or folder does not exist&quot;</span> &lt;&lt; ENDL;</div>
<div class="line">      setExitCode(EXIT_CODE_ERROR);</div>
<div class="line">      <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">if</span> (type &amp; <a name="a34"></a><a class="code" href="class_file_system.html#a141ba942c2909e70c05829d25d2abb57afa1042c7556d3cd8ed6f449935c48861">FileSystem::REGULAR</a>) {</div>
<div class="line">      fileDigest(path);</div>
<div class="line">    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (type &amp; <a name="a35"></a><a class="code" href="class_file_system.html#a141ba942c2909e70c05829d25d2abb57aa90c0bb53aafd6dccd348804b3b74b7f">FileSystem::FOLDER</a>) {</div>
<div class="line">      <a name="_a36"></a><a class="code" href="class_folder_info.html">FolderInfo</a> folder(path);</div>
<div class="line">      <a name="_a37"></a><a class="code" href="class_array.html">Array&lt;String&gt;</a> entries = folder.<a name="a38"></a><a class="code" href="class_folder_info.html#a24c31ff756d3bc4e66d436cad54343af">getEntries</a>();</div>
<div class="line">      <a name="a39"></a><a class="code" href="class_file_system.html#a4ddab6a75c18ac53d53553acca9fa7a5">FileSystem::setCurrentFolder</a>(path);</div>
<div class="line">      </div>
<div class="line">      <a name="_a40"></a><a class="code" href="class_array.html">Array&lt;String&gt;::ReadEnumerator</a> enu = entries.<a name="a41"></a><a class="code" href="class_array.html#af75233edc1ca07dbea71ddbe4501ed12">getReadEnumerator</a>();</div>
<div class="line">      <span class="keywordflow">while</span> (enu.hasNext()) {</div>
<div class="line">        <span class="keyword">const</span> <a class="code" href="class_string.html">String</a> entry = *enu.next();</div>
<div class="line">        <span class="keywordflow">try</span> {</div>
<div class="line">          <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> type = <a class="code" href="class_file_system.html#af32ca0652ee6e091df124cca322ea34b">FileSystem::getType</a>(entry);</div>
<div class="line">          <span class="keywordflow">if</span> (type &amp; <a class="code" href="class_file_system.html#a141ba942c2909e70c05829d25d2abb57afa1042c7556d3cd8ed6f449935c48861">FileSystem::REGULAR</a>) {</div>
<div class="line">            fileDigest(entry);</div>
<div class="line">          } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (type &amp; <a class="code" href="class_file_system.html#a141ba942c2909e70c05829d25d2abb57aa90c0bb53aafd6dccd348804b3b74b7f">FileSystem::FOLDER</a>) {</div>
<div class="line">            <span class="comment">// ignore or recursive</span></div>
<div class="line">          }</div>
<div class="line">        } <span class="keywordflow">catch</span> (<a name="_a42"></a><a class="code" href="class_exception.html">Exception</a>&amp;) {</div>
<div class="line">        }</div>
<div class="line">      }</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">      ferr &lt;&lt; <span class="stringliteral">&quot;Error: &quot;</span> &lt;&lt; <span class="stringliteral">&quot;Invalid filesystem entry&quot;</span> &lt;&lt; ENDL;</div>
<div class="line">      setExitCode(EXIT_CODE_ERROR);</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="keywordtype">void</span> usage()</div>
<div class="line">  {</div>
<div class="line">    fout &lt;&lt; <span class="stringliteral">&quot;Usage: &quot;</span> &lt;&lt; getFormalName()</div>
<div class="line">         &lt;&lt; <span class="stringliteral">&quot; [ADLER32|CRC32|MD5SUM|SHA1|SHA256|SHA384|SHA512] file&quot;</span> &lt;&lt; ENDL;</div>
<div class="line">  }</div>
<div class="line">  </div>
<div class="line">  <span class="keywordtype">void</span> main()</div>
<div class="line">  {</div>
<div class="line">    fout &lt;&lt; getFormalName() &lt;&lt; <span class="stringliteral">&quot; version &quot;</span></div>
<div class="line">         &lt;&lt; MAJOR_VERSION &lt;&lt; <span class="charliteral">&#39;.&#39;</span> &lt;&lt; MINOR_VERSION &lt;&lt; EOL</div>
<div class="line">         &lt;&lt; <span class="stringliteral">&quot;The Base Framework (Test Suite)&quot;</span> &lt;&lt; EOL</div>
<div class="line">         &lt;&lt; ENDL;</div>
<div class="line">    </div>
<div class="line">    <a class="code" href="class_array.html">Array&lt;String&gt;</a> arguments = getArguments();</div>
<div class="line">    <a class="code" href="class_string.html">String</a> jobString;</div>
<div class="line">    <a class="code" href="class_string.html">String</a> path;</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">switch</span> (arguments.<a name="a43"></a><a class="code" href="class_array.html#a137f2cae7d1ade1316b2a0d10ffaccde">getSize</a>()) {</div>
<div class="line">    <span class="keywordflow">case</span> 2:</div>
<div class="line">      jobString = arguments[0]; <span class="comment">// job</span></div>
<div class="line">      <span class="keywordflow">if</span> (jobString == <span class="stringliteral">&quot;ADLER32&quot;</span>) {</div>
<div class="line">        job = Job::ADLER32;</div>
<div class="line">      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (jobString == <span class="stringliteral">&quot;CRC32&quot;</span>) {</div>
<div class="line">        job = Job::CRC32;</div>
<div class="line">      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (jobString == <span class="stringliteral">&quot;MD5SUM&quot;</span>) {</div>
<div class="line">        job = Job::MD5SUM;</div>
<div class="line">      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (jobString == <span class="stringliteral">&quot;SHA1&quot;</span>) {</div>
<div class="line">        job = Job::SHA1;</div>
<div class="line">      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (jobString == <span class="stringliteral">&quot;SHA256&quot;</span>) {</div>
<div class="line">        job = Job::SHA256;</div>
<div class="line">      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (jobString == <span class="stringliteral">&quot;SHA384&quot;</span>) {</div>
<div class="line">        job = Job::SHA384;</div>
<div class="line">      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (jobString == <span class="stringliteral">&quot;SHA512&quot;</span>) {</div>
<div class="line">        job = Job::SHA512;</div>
<div class="line">      } <span class="keywordflow">else</span> {</div>
<div class="line">        usage();</div>
<div class="line">        setExitCode(EXIT_CODE_ERROR);</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">      }</div>
<div class="line">      path = arguments[1]; <span class="comment">// file path</span></div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">default</span>:</div>
<div class="line">      usage();</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">try</span> {</div>
<div class="line">      digest(path);</div>
<div class="line">    } <span class="keywordflow">catch</span> (<a class="code" href="class_exception.html">Exception</a>&amp;) {</div>
<div class="line">      setExitCode(<a name="a44"></a><a class="code" href="class_application.html#a424e991058669da73258a7852c5c60c8ac49a8608f05c4216dd8b525f9b7af726">Application::EXIT_CODE_ERROR</a>);</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line">APPLICATION_STUB(DigestApplication);</div>
</div><!-- fragment --> </div><!-- contents -->
<div class="ttc" id="aclass_m_d5_sum_html_a21fe590d3673e600d652cd135e4b63d9"><div class="ttname"><a href="class_m_d5_sum.html#a21fe590d3673e600d652cd135e4b63d9">MD5Sum::push</a></div><div class="ttdeci">MemorySize push(const uint8 *buffer, MemorySize size)</div></div>
<div class="ttc" id="aclass_s_h_a384_html_a1d4ffecbad744ed52fc23e019d43fa84"><div class="ttname"><a href="class_s_h_a384.html#a1d4ffecbad744ed52fc23e019d43fa84">SHA384::pushEnd</a></div><div class="ttdeci">void pushEnd() noexcept</div></div>
<div class="ttc" id="aclass_adler32_html_afabb942ec98cdee19dbe96ff2eba2ea9"><div class="ttname"><a href="class_adler32.html#afabb942ec98cdee19dbe96ff2eba2ea9">Adler32::getValue</a></div><div class="ttdeci">uint32 getValue() const noexcept</div><div class="ttdef"><b>Definition:</b> Adler32.h:81</div></div>
<div class="ttc" id="aclass_s_h_a256_html_a76725e3845159484afb2f38a5368f736"><div class="ttname"><a href="class_s_h_a256.html#a76725e3845159484afb2f38a5368f736">SHA256::push</a></div><div class="ttdeci">MemorySize push(const uint8 *buffer, MemorySize size)</div></div>
<div class="ttc" id="aclass_push_interface_html_a9c1e62e52fd979bd14586b50336402f4"><div class="ttname"><a href="class_push_interface.html#a9c1e62e52fd979bd14586b50336402f4">PushInterface::pushEnd</a></div><div class="ttdeci">virtual void pushEnd()</div></div>
<div class="ttc" id="aclass_file_system_html_a141ba942c2909e70c05829d25d2abb57afa1042c7556d3cd8ed6f449935c48861"><div class="ttname"><a href="class_file_system.html#a141ba942c2909e70c05829d25d2abb57afa1042c7556d3cd8ed6f449935c48861">FileSystem::REGULAR</a></div><div class="ttdeci">@ REGULAR</div><div class="ttdef"><b>Definition:</b> FileSystem.h:60</div></div>
<div class="ttc" id="aclass_s_h_a1_html_a5721702044ce50f6b9495f261684f371"><div class="ttname"><a href="class_s_h_a1.html#a5721702044ce50f6b9495f261684f371">SHA1::getValue</a></div><div class="ttdeci">String getValue() const noexcept</div></div>
<div class="ttc" id="aclass_s_h_a1_html"><div class="ttname"><a href="class_s_h_a1.html">SHA1</a></div><div class="ttdoc">SHA-1 message-digest.</div><div class="ttdef"><b>Definition:</b> SHA1.h:48</div></div>
<div class="ttc" id="aclass_s_h_a256_html_a9c7e2699562e83cefad0a14d1e136b0d"><div class="ttname"><a href="class_s_h_a256.html#a9c7e2699562e83cefad0a14d1e136b0d">SHA256::pushEnd</a></div><div class="ttdeci">void pushEnd() noexcept</div></div>
<div class="ttc" id="aclass_c_r_c32_html_a98dbbaf0f066811071a3a744947fdc5f"><div class="ttname"><a href="class_c_r_c32.html#a98dbbaf0f066811071a3a744947fdc5f">CRC32::pushEnd</a></div><div class="ttdeci">void pushEnd() noexcept</div><div class="ttdef"><b>Definition:</b> CRC32.h:74</div></div>
<div class="ttc" id="aclass_file_input_stream_html_a1dabd536a3a043f8e0391dfe0fed5a1d"><div class="ttname"><a href="class_file_input_stream.html#a1dabd536a3a043f8e0391dfe0fed5a1d">FileInputStream::read</a></div><div class="ttdeci">unsigned int read(uint8 *buffer, unsigned int size, bool nonblocking=false)</div><div class="ttdef"><b>Definition:</b> FileInputStream.h:76</div></div>
<div class="ttc" id="aclass_s_h_a512_html"><div class="ttname"><a href="class_s_h_a512.html">SHA512</a></div><div class="ttdoc">SHA-512 message-digest.</div><div class="ttdef"><b>Definition:</b> SHA512.h:49</div></div>
<div class="ttc" id="aclass_s_h_a1_html_a490bb399dba1de9db5a45342833009c4"><div class="ttname"><a href="class_s_h_a1.html#a490bb399dba1de9db5a45342833009c4">SHA1::push</a></div><div class="ttdeci">MemorySize push(const uint8 *buffer, MemorySize size)</div></div>
<div class="ttc" id="aclass_c_r_c32_html"><div class="ttname"><a href="class_c_r_c32.html">CRC32</a></div><div class="ttdoc">CRC-32.</div><div class="ttdef"><b>Definition:</b> CRC32.h:34</div></div>
<div class="ttc" id="aclass_exception_html"><div class="ttname"><a href="class_exception.html">Exception</a></div><div class="ttdoc">The general exception class.</div><div class="ttdef"><b>Definition:</b> Exception.h:39</div></div>
<div class="ttc" id="aclass_m_d5_sum_html_af2248adca7e382a913fb551a19e70a2b"><div class="ttname"><a href="class_m_d5_sum.html#af2248adca7e382a913fb551a19e70a2b">MD5Sum::pushEnd</a></div><div class="ttdeci">void pushEnd()</div></div>
<div class="ttc" id="aclass_s_h_a512_html_a8656443fc688f5181812df8784bdfd77"><div class="ttname"><a href="class_s_h_a512.html#a8656443fc688f5181812df8784bdfd77">SHA512::getValue</a></div><div class="ttdeci">String getValue() const noexcept</div></div>
<div class="ttc" id="aclass_folder_info_html"><div class="ttname"><a href="class_folder_info.html">FolderInfo</a></div><div class="ttdoc">Folder information.</div><div class="ttdef"><b>Definition:</b> FolderInfo.h:33</div></div>
<div class="ttc" id="aclass_c_r_c32_html_a8e1d4677020c3155e6ab88880311ea33"><div class="ttname"><a href="class_c_r_c32.html#a8e1d4677020c3155e6ab88880311ea33">CRC32::push</a></div><div class="ttdeci">MemorySize push(const uint8 *buffer, MemorySize size) noexcept</div></div>
<div class="ttc" id="aclass_string_html"><div class="ttname"><a href="class_string.html">String</a></div><div class="ttdoc">String.</div><div class="ttdef"><b>Definition:</b> String.h:93</div></div>
<div class="ttc" id="aclass_adler32_html_aebe0bd8aed92381c8cfdaf9de38d49d8"><div class="ttname"><a href="class_adler32.html#aebe0bd8aed92381c8cfdaf9de38d49d8">Adler32::push</a></div><div class="ttdeci">MemorySize push(const uint8 *buffer, MemorySize size) noexcept</div></div>
<div class="ttc" id="aclass_array_html_a137f2cae7d1ade1316b2a0d10ffaccde"><div class="ttname"><a href="class_array.html#a137f2cae7d1ade1316b2a0d10ffaccde">Array::getSize</a></div><div class="ttdeci">MemorySize getSize() const noexcept</div><div class="ttdef"><b>Definition:</b> Array.h:339</div></div>
<div class="ttc" id="aclass_s_h_a256_html_af368418e1a16c1a07aa8321d9772879c"><div class="ttname"><a href="class_s_h_a256.html#af368418e1a16c1a07aa8321d9772879c">SHA256::getValue</a></div><div class="ttdeci">String getValue() const noexcept</div></div>
<div class="ttc" id="aclass_s_h_a384_html_a094bb76feba5a9a2df1c1decfeb97d09"><div class="ttname"><a href="class_s_h_a384.html#a094bb76feba5a9a2df1c1decfeb97d09">SHA384::getValue</a></div><div class="ttdeci">String getValue() const noexcept</div></div>
<div class="ttc" id="aclass_s_h_a384_html_a07f54e5f0d355a4db5acaf69e031e319"><div class="ttname"><a href="class_s_h_a384.html#a07f54e5f0d355a4db5acaf69e031e319">SHA384::push</a></div><div class="ttdeci">MemorySize push(const uint8 *buffer, MemorySize size)</div></div>
<div class="ttc" id="aclass_m_d5_sum_html"><div class="ttname"><a href="class_m_d5_sum.html">MD5Sum</a></div><div class="ttdoc">MD5 message-digest.</div><div class="ttdef"><b>Definition:</b> MD5Sum.h:44</div></div>
<div class="ttc" id="aclass_application_html"><div class="ttname"><a href="class_application.html">Application</a></div><div class="ttdoc">Application.</div><div class="ttdef"><b>Definition:</b> Application.h:53</div></div>
<div class="ttc" id="aclass_file_system_exception_html"><div class="ttname"><a href="class_file_system_exception.html">FileSystemException</a></div><div class="ttdoc">File system exception.</div><div class="ttdef"><b>Definition:</b> FileSystemException.h:28</div></div>
<div class="ttc" id="aclass_file_input_stream_html"><div class="ttname"><a href="class_file_input_stream.html">FileInputStream</a></div><div class="ttdoc">File input stream.</div><div class="ttdef"><b>Definition:</b> FileInputStream.h:30</div></div>
<div class="ttc" id="aclass_s_h_a512_html_aa9b8101e9f75165b63b36de83b29a367"><div class="ttname"><a href="class_s_h_a512.html#aa9b8101e9f75165b63b36de83b29a367">SHA512::push</a></div><div class="ttdeci">MemorySize push(const uint8 *buffer, MemorySize size)</div></div>
<div class="ttc" id="aclass_file_system_html_af32ca0652ee6e091df124cca322ea34b"><div class="ttname"><a href="class_file_system.html#af32ca0652ee6e091df124cca322ea34b">FileSystem::getType</a></div><div class="ttdeci">static unsigned int getType(const String &amp;path)</div></div>
<div class="ttc" id="aclass_file_system_html_a141ba942c2909e70c05829d25d2abb57aa90c0bb53aafd6dccd348804b3b74b7f"><div class="ttname"><a href="class_file_system.html#a141ba942c2909e70c05829d25d2abb57aa90c0bb53aafd6dccd348804b3b74b7f">FileSystem::FOLDER</a></div><div class="ttdeci">@ FOLDER</div><div class="ttdef"><b>Definition:</b> FileSystem.h:57</div></div>
<div class="ttc" id="aclass_s_h_a1_html_ae882e7e0a21d97e723d8752fdfcb3d41"><div class="ttname"><a href="class_s_h_a1.html#ae882e7e0a21d97e723d8752fdfcb3d41">SHA1::pushEnd</a></div><div class="ttdeci">void pushEnd() noexcept</div></div>
<div class="ttc" id="aclass_adler32_html"><div class="ttname"><a href="class_adler32.html">Adler32</a></div><div class="ttdoc">Adler-32.</div><div class="ttdef"><b>Definition:</b> Adler32.h:33</div></div>
<div class="ttc" id="aclass_s_h_a384_html"><div class="ttname"><a href="class_s_h_a384.html">SHA384</a></div><div class="ttdoc">SHA-384 message-digest.</div><div class="ttdef"><b>Definition:</b> SHA384.h:48</div></div>
<div class="ttc" id="aclass_array_html_af75233edc1ca07dbea71ddbe4501ed12"><div class="ttname"><a href="class_array.html#af75233edc1ca07dbea71ddbe4501ed12">Array::getReadEnumerator</a></div><div class="ttdeci">ReadEnumerator getReadEnumerator() const noexcept</div><div class="ttdef"><b>Definition:</b> Array.h:477</div></div>
<div class="ttc" id="aclass_array_html"><div class="ttname"><a href="class_array.html">Array&lt; String &gt;</a></div></div>
<div class="ttc" id="aclass_application_html_a424e991058669da73258a7852c5c60c8ac49a8608f05c4216dd8b525f9b7af726"><div class="ttname"><a href="class_application.html#a424e991058669da73258a7852c5c60c8ac49a8608f05c4216dd8b525f9b7af726">Application::EXIT_CODE_ERROR</a></div><div class="ttdeci">@ EXIT_CODE_ERROR</div><div class="ttdef"><b>Definition:</b> Application.h:77</div></div>
<div class="ttc" id="aclass_m_d5_sum_html_ad9253c330e1dab99122b733fbf94ec9c"><div class="ttname"><a href="class_m_d5_sum.html#ad9253c330e1dab99122b733fbf94ec9c">MD5Sum::getValue</a></div><div class="ttdeci">String getValue() const noexcept</div></div>
<div class="ttc" id="aclass_c_r_c32_html_a90a9c7b340df70fa3c549d86c653a54d"><div class="ttname"><a href="class_c_r_c32.html#a90a9c7b340df70fa3c549d86c653a54d">CRC32::getValue</a></div><div class="ttdeci">uint32 getValue() const noexcept</div><div class="ttdef"><b>Definition:</b> CRC32.h:89</div></div>
<div class="ttc" id="aclass_s_h_a512_html_a7d98fefb82a9a575d7ee8073438bbded"><div class="ttname"><a href="class_s_h_a512.html#a7d98fefb82a9a575d7ee8073438bbded">SHA512::pushEnd</a></div><div class="ttdeci">void pushEnd() noexcept</div></div>
<div class="ttc" id="aclass_s_h_a256_html"><div class="ttname"><a href="class_s_h_a256.html">SHA256</a></div><div class="ttdoc">SHA-256 message-digest.</div><div class="ttdef"><b>Definition:</b> SHA256.h:49</div></div>
<div class="ttc" id="aclass_file_system_html_a4ddab6a75c18ac53d53553acca9fa7a5"><div class="ttname"><a href="class_file_system.html#a4ddab6a75c18ac53d53553acca9fa7a5">FileSystem::setCurrentFolder</a></div><div class="ttdeci">static void setCurrentFolder(const String &amp;path)</div></div>
<div class="ttc" id="aclass_folder_info_html_a24c31ff756d3bc4e66d436cad54343af"><div class="ttname"><a href="class_folder_info.html#a24c31ff756d3bc4e66d436cad54343af">FolderInfo::getEntries</a></div><div class="ttdeci">Array&lt; String &gt; getEntries() const</div></div>
<!-- HTML footer for doxygen 1.8.17-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"></address>
</body>
</html>
